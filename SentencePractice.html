<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±èªå¥å‹è¨“ç·´ç³»çµ±</title>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100%;
            color: #333;
        }
        
        html, body {
            height: 100%;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .title {
            font-size: 2.5rem;
            color: #4a5568;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .subtitle {
            font-size: 1.1rem;
            color: #718096;
        }
        
        /* é¦–é æ¨£å¼ */
        .home-page {
            display: block;
        }
        
        .unit-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .unit-card {
            color: white;
            padding: 25px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            border: none;
            font-size: 1rem;
        }
        
        .unit-blue {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
        }
        
        .unit-blue:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(66, 153, 225, 0.4);
        }
        
        .unit-purple {
            background: linear-gradient(135deg, #805ad5 0%, #6b46c1 100%);
        }
        
        .unit-purple:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(128, 90, 213, 0.4);
        }
        
        .unit-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .unit-description {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 15px;
        }
        
        .unit-example {
            font-size: 0.9rem;
            font-style: italic;
            opacity: 0.8;
        }
        
        /* éŠæˆ²é é¢æ¨£å¼ */
        .game-page {
            display: none;
        }
        
        .game-area {
            background: #f7fafc;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 2px solid #e2e8f0;
        }
        
        .question-section {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .question-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .question {
            font-size: 1.8rem;
            color: #2d3748;
            font-weight: 600;
        }
        
        .speak-btn {
            background: #48bb78;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }
        
        .speak-btn:hover {
            background: #38a169;
            transform: scale(1.1);
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .option-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .option-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            flex: 1;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            line-height: 1.3;
        }
        
        .option-btn:hover {
            background: #3182ce;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(66, 153, 225, 0.4);
        }
        
        .option-btn.correct {
            background: #48bb78;
        }
        
        .option-btn.wrong {
            background: #f56565;
        }
        
        .feedback {
            text-align: center;
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: 600;
            min-height: 30px;
        }
        
        .feedback.correct {
            color: #38a169;
        }
        
        .feedback.wrong {
            color: #e53e3e;
        }
        
        .score-board {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #edf2f7;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .score {
            font-size: 1rem;
            font-weight: 600;
            color: #4a5568;
        }
        
        .answer-record {
            background: #f0f4f8;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 2px solid #e2e8f0;
        }
        
        .record-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .record-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
            gap: 8px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .record-item {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
            border: 2px solid #e2e8f0;
            background: white;
            color: #718096;
        }
        
        .record-item.correct {
            background: #48bb78;
            color: white;
            border-color: #38a169;
        }
        
        .record-item.wrong {
            background: #f56565;
            color: white;
            border-color: #e53e3e;
        }
        
        .record-item.current {
            background: #4299e1;
            color: white;
            border-color: #3182ce;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .control-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .btn {
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #805ad5;
        }
        
        .btn-primary:hover {
            background: #6b46c1;
        }
        
        .btn-secondary {
            background: #718096;
        }
        
        .btn-secondary:hover {
            background: #4a5568;
        }
        
        .btn:disabled {
            background: #a0aec0;
            cursor: not-allowed;
        }
        
        /* é¦–é ç­”é¡Œè¨˜éŒ„æ¨£å¼ */
        .history-section {
            background: #f8fafc;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            border: 2px solid #e2e8f0;
        }
        
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .history-title {
            font-size: 1.3rem;
            color: #4a5568;
            margin: 0;
            font-weight: 600;
        }
        
        .btn-clear {
            background: #f56565;
            font-size: 0.9rem;
            padding: 8px 15px;
        }
        
        .btn-clear:hover {
            background: #e53e3e;
        }
        
        .history-list {
            display: grid;
            gap: 10px;
        }
        
        .history-item {
            background: white;
            border-radius: 10px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .history-item:hover {
            border-color: #cbd5e0;
            transform: translateY(-1px);
        }
        
        .history-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .history-unit {
            font-weight: 600;
            color: #4a5568;
            font-size: 1.1rem;
        }
        
        .history-score {
            font-size: 1rem;
            color: #718096;
        }
        
        .history-percentage {
            font-weight: 600;
            font-size: 1.2rem;
            padding: 5px 12px;
            border-radius: 20px;
            color: white;
        }
        
        .percentage-excellent {
            background: #48bb78;
        }
        
        .percentage-good {
            background: #4299e1;
        }
        
        .percentage-fair {
            background: #ed8936;
        }
        
        .percentage-poor {
            background: #f56565;
        }
        
        .history-time {
            font-size: 0.8rem;
            color: #a0aec0;
            margin-top: 5px;
        }
        
        .pattern-info {
            background: #e6fffa;
            border: 2px solid #81e6d9;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .pattern-title {
            font-weight: 600;
            color: #234e52;
            margin-bottom: 8px;
        }
        
        .pattern-example {
            color: #2c7a7b;
            font-style: italic;
        }
        
        .translation {
            background: #f0fff4;
            border: 2px solid #9ae6b4;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.3rem;
            color: #2f855a;
            font-weight: 600;
            display: none;
        }
        
        @media (max-width: 768px) {
            .score-board {
                flex-direction: column;
                text-align: center;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
            
            .question {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
    <main class="container">
        <header class="header">
            <h1 class="title">ğŸ¯ 11401-5Grade-WonderWorld å¥å‹ç·´ç¿’</h1>
            <p class="subtitle">é¸æ“‡å–®å…ƒé–‹å§‹ç·´ç¿’è‹±èªå¥å‹</p>
        </header>
        
        <!-- é¦–é  -->
        <div class="home-page" id="home-page">
            <!-- ç­”é¡Œè¨˜éŒ„å€åŸŸ -->
            <div class="history-section" id="history-section" style="display: none;">
                <div class="history-header">
                    <h3 class="history-title">ğŸ“Š æœ€è¿‘ç­”é¡Œè¨˜éŒ„</h3>
                    <button class="btn btn-clear" onclick="clearHistory()">ğŸ—‘ï¸ æ¸…ç©ºè¨˜éŒ„</button>
                </div>
                <div class="history-list" id="history-list"></div>
            </div>
            
            <div class="unit-grid">
                <button class="unit-card unit-blue" onclick="startUnit(1)">
                    <div class="unit-title">ç¬¬ä¸€å–®å…ƒ</div>
                    <div class="unit-description">Do you like...? / Does he/she like...?</div>
                    <div class="unit-example">ç·´ç¿’å–œå¥½å•ç­”å¥å‹</div>
                </button>
                
                <button class="unit-card unit-blue" onclick="startUnit(2)">
                    <div class="unit-title">ç¬¬äºŒå–®å…ƒ</div>
                    <div class="unit-description">How many...? / I need... / He/She needs...</div>
                    <div class="unit-example">ç·´ç¿’æ•¸é‡å•ç­”å¥å‹</div>
                </button>
                
                <button class="unit-card unit-purple" onclick="startUnit(3)">
                    <div class="unit-title">ç¬¬ä¸‰å–®å…ƒ</div>
                    <div class="unit-description">What day is it? / Is it...?</div>
                    <div class="unit-example">ç·´ç¿’æ˜ŸæœŸå•ç­”å¥å‹</div>
                </button>
                
                <button class="unit-card unit-purple" onclick="startUnit(4)">
                    <div class="unit-title">ç¬¬å››å–®å…ƒ</div>
                    <div class="unit-description">What's your/his/her favorite subject?</div>
                    <div class="unit-example">ç·´ç¿’æœ€å–œæ­¡ç§‘ç›®å•ç­”å¥å‹</div>
                </button>
            </div>
        </div>
        
        <!-- éŠæˆ²é é¢ -->
        <div class="game-page" id="game-page">
            <div class="pattern-info" id="pattern-info">
                <div class="pattern-title">ğŸ“š å¥å‹ç·´ç¿’ï¼š</div>
                <div class="pattern-example" id="pattern-example"></div>
            </div>
            
            <div class="score-board">
                <div class="score">ç¬¬ <span id="current-question">1</span> é¡Œ / å…± <span id="total-questions">20</span> é¡Œ</div>
                <div class="score">ç­”å°ç‡: <span id="accuracy">0</span>%</div>
                <div class="score">å‰©é¤˜: <span id="remaining">20</span> é¡Œ</div>
            </div>
            
            <div class="game-area">
                <div class="question-section">
                    <div class="question-container">
                        <div class="question" id="question"></div>
                        <button class="speak-btn" id="question-speak" onclick="speakText(this.dataset.text)">ğŸ”Š</button>
                    </div>
                    <div class="options" id="options"></div>
                    <div class="translation" id="translation"></div>
                    <div class="feedback" id="feedback"></div>
                </div>
            </div>
            
            <div class="answer-record" id="answer-record">
                <div class="record-title">ğŸ“Š ç­”é¡Œè¨˜éŒ„</div>
                <div class="record-grid" id="record-grid"></div>
            </div>
            
            <div class="control-buttons">
                <button class="btn btn-secondary" onclick="goHome()">è¿”å›é¦–é </button>
                <button class="btn btn-primary" id="next-btn" onclick="nextQuestion()" disabled>ä¸‹ä¸€é¡Œ (ç©ºç™½éµ)</button>
            </div>
        </div>
    </main>

    <script>
        let currentUnit = 1;
        let currentQuestion = 0;
        let correctAnswers = 0;
        let totalQuestions = 0;
        let answered = false;
        let currentQuestions = [];
        let answerRecord = [];
        let answerHistory = [];

        const units = {
            1: {
                title: "Do you like...? / Does he/she like...?",
                example: "A: Do you like cola? â†’ Yes, I do. / No, I don't. I like soy milk.<br>B: Does he/she like tea? â†’ Yes, he/she does. / No, he/she doesn't. He/She likes coffee.",
                questions: [
                    {
                        question: "Do you like apples?",
                        translation: "ä½ å–œæ­¡è˜‹æœå—ï¼Ÿ",
                        options: ["Yes, I do.", "Yes, he does.", "No, she doesn't.", "Does he like apples?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Do you' çš„å•é¡Œè¦ç”¨ 'I do/don't'"
                    },
                    {
                        question: "Does she like milk?",
                        translation: "å¥¹å–œæ­¡ç‰›å¥¶å—ï¼Ÿ",
                        options: ["Yes, I do.", "No, I don't.", "Yes, she does.", "Do you like milk?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Does she' çš„å•é¡Œè¦ç”¨ 'she does/doesn't'"
                    },
                    {
                        question: "Do you like water?",
                        translation: "ä½ å–œæ­¡æ°´å—ï¼Ÿ",
                        options: ["No, I don't. I like juice.", "No, she doesn't.", "Yes, he does.", "Does she like water?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å¯ä»¥èªªä¸å–œæ­¡ä¸¦èªªå‡ºè‡ªå·±å–œæ­¡çš„æ±è¥¿"
                    },
                    {
                        question: "Does he like juice?",
                        translation: "ä»–å–œæ­¡æœæ±å—ï¼Ÿ",
                        options: ["Yes, I do.", "No, he doesn't. He likes milk.", "No, I don't.", "Do you like juice?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å¯ä»¥èªªä»–ä¸å–œæ­¡ä¸¦èªªå‡ºä»–å–œæ­¡çš„æ±è¥¿"
                    },
                    {
                        question: "Do you like cake?",
                        translation: "ä½ å–œæ­¡è›‹ç³•å—ï¼Ÿ",
                        options: ["Yes, she does.", "Does he like it?", "No, I don't.", "Yes, he does."],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Do you' ç”¨ 'I do/don't'"
                    },
                    {
                        question: "Does she like ice cream?",
                        translation: "å¥¹å–œæ­¡å†°æ·‡æ·‹å—ï¼Ÿ",
                        options: ["Yes, I do.", "Yes, she does.", "Do you like it?", "No, I don't."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Does she' ç”¨ 'she does/doesn't'"
                    },
                    {
                        question: "Do you like hot dogs?",
                        translation: "ä½ å–œæ­¡ç†±ç‹—å—ï¼Ÿ",
                        options: ["No, she doesn't.", "Yes, I do.", "Yes, he does.", "Does she like them?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Do you' çš„å•é¡Œè¦ç”¨ 'I do/don't'"
                    },
                    {
                        question: "Does he like oranges?",
                        translation: "ä»–å–œæ­¡æ©˜å­å—ï¼Ÿ",
                        options: ["Yes, I do.", "Do you like oranges?", "No, he doesn't. He likes apples.", "No, I don't."],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼èªªæ˜ä»–ä¸å–œæ­¡ä»€éº¼ï¼Œä½†å–œæ­¡ä»€éº¼"
                    },
                    {
                        question: "Do you like bananas?",
                        translation: "ä½ å–œæ­¡é¦™è•‰å—ï¼Ÿ",
                        options: ["Yes, I do.", "Yes, she does.", "No, he doesn't.", "Does she like bananas?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Do you' çš„å•é¡Œè¦ç”¨ 'I do/don't'"
                    },
                    {
                        question: "Does he like cookies?",
                        translation: "ä»–å–œæ­¡é¤…ä¹¾å—ï¼Ÿ",
                        options: ["No, I don't.", "Yes, he does.", "Yes, I do.", "Do you like cookies?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Does he' çš„å•é¡Œè¦ç”¨ 'he does/doesn't'"
                    },
                    {
                        question: "Do you like bread?",
                        translation: "ä½ å–œæ­¡éºµåŒ…å—ï¼Ÿ",
                        options: ["No, I don't. I like rice.", "No, she doesn't.", "Yes, he does.", "Does he like bread?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å¯ä»¥èªªä¸å–œæ­¡ä¸¦èªªå‡ºè‡ªå·±å–œæ­¡çš„æ±è¥¿"
                    },
                    {
                        question: "Does she like eggs?",
                        translation: "å¥¹å–œæ­¡è›‹å—ï¼Ÿ",
                        options: ["Yes, I do.", "No, he doesn't.", "No, she doesn't.", "Do you like eggs?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Does she' çš„å•é¡Œè¦ç”¨ 'she does/doesn't'"
                    },
                    {
                        question: "Do you like rice?",
                        translation: "ä½ å–œæ­¡ç±³é£¯å—ï¼Ÿ",
                        options: ["Yes, I do.", "Yes, she does.", "No, he doesn't.", "Does she like rice?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Do you' çš„å•é¡Œè¦ç”¨ 'I do/don't'"
                    },
                    {
                        question: "Does he like fish?",
                        translation: "ä»–å–œæ­¡é­šå—ï¼Ÿ",
                        options: ["No, I don't.", "Yes, I do.", "Yes, he does.", "Do you like fish?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Does he' çš„å•é¡Œè¦ç”¨ 'he does/doesn't'"
                    },
                    {
                        question: "Do you like meat?",
                        translation: "ä½ å–œæ­¡è‚‰å—ï¼Ÿ",
                        options: ["No, I don't.", "Yes, she does.", "No, he doesn't.", "Does she like meat?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Do you' çš„å•é¡Œè¦ç”¨ 'I do/don't'"
                    },
                    {
                        question: "Does she like chicken?",
                        translation: "å¥¹å–œæ­¡é›è‚‰å—ï¼Ÿ",
                        options: ["Yes, I do.", "No, she doesn't. She likes fish.", "No, I don't.", "Do you like chicken?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å¯ä»¥èªªå¥¹ä¸å–œæ­¡ä¸¦èªªå‡ºå¥¹å–œæ­¡çš„æ±è¥¿"
                    },
                    {
                        question: "Do you like soup?",
                        translation: "ä½ å–œæ­¡æ¹¯å—ï¼Ÿ",
                        options: ["Yes, she does.", "No, he doesn't.", "Yes, I do.", "Does he like soup?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Do you' çš„å•é¡Œè¦ç”¨ 'I do/don't'"
                    },
                    {
                        question: "Does he like candy?",
                        translation: "ä»–å–œæ­¡ç³–æœå—ï¼Ÿ",
                        options: ["Yes, I do.", "No, he doesn't.", "No, I don't.", "Do you like candy?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Does he' çš„å•é¡Œè¦ç”¨ 'he does/doesn't'"
                    },
                    {
                        question: "Do you like pizza?",
                        translation: "ä½ å–œæ­¡æŠ«è–©å—ï¼Ÿ",
                        options: ["No, I don't. I like sandwiches.", "Yes, she does.", "No, he doesn't.", "Does she like pizza?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å¯ä»¥èªªä¸å–œæ­¡ä¸¦èªªå‡ºè‡ªå·±å–œæ­¡çš„æ±è¥¿"
                    },
                    {
                        question: "Does she like tea?",
                        translation: "å¥¹å–œæ­¡èŒ¶å—ï¼Ÿ",
                        options: ["Yes, I do.", "Yes, she does.", "No, I don't.", "Do you like tea?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Does she' çš„å•é¡Œè¦ç”¨ 'she does/doesn't'"
                    }
                ]
            },
            2: {
                title: "How many...? / I need... / He/She needs...",
                example: "A: How many apples do you need? â†’ I need two apples.<br>B: How many oranges does he/she need? â†’ He/She needs seven oranges.",
                questions: [
                    {
                        question: "How many apples do you need?",
                        translation: "ä½ éœ€è¦å¤šå°‘é¡†è˜‹æœï¼Ÿ",
                        options: ["I need two apples.", "He needs two apples.", "She needs two apples.", "How many apples?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... do you need?' è¦ç”¨ 'I need...'"
                    },
                    {
                        question: "How many oranges does she need?",
                        translation: "å¥¹éœ€è¦å¤šå°‘é¡†æ©˜å­ï¼Ÿ",
                        options: ["I need five oranges.", "You need five oranges.", "She needs five oranges.", "How many oranges?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... does she need?' è¦ç”¨ 'She needs...'"
                    },
                    {
                        question: "How many books do you need?",
                        translation: "ä½ éœ€è¦å¤šå°‘æœ¬æ›¸ï¼Ÿ",
                        options: ["I need three books.", "He needs three books.", "She needs three books.", "How many books?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... do you need?' è¦ç”¨ 'I need...'"
                    },
                    {
                        question: "How many pencils does he need?",
                        translation: "ä»–éœ€è¦å¤šå°‘æ”¯é‰›ç­†ï¼Ÿ",
                        options: ["I need four pencils.", "He needs four pencils.", "You need four pencils.", "How many pencils?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... does he need?' è¦ç”¨ 'He needs...'"
                    },
                    {
                        question: "How many cookies do you need?",
                        translation: "ä½ éœ€è¦å¤šå°‘ç‰‡é¤…ä¹¾ï¼Ÿ",
                        options: ["She needs six cookies.", "I need six cookies.", "He needs six cookies.", "How many cookies?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... do you need?' è¦ç”¨ 'I need...'"
                    },
                    {
                        question: "How many eggs does she need?",
                        translation: "å¥¹éœ€è¦å¤šå°‘é¡†è›‹ï¼Ÿ",
                        options: ["I need eight eggs.", "She needs eight eggs.", "You need eight eggs.", "How many eggs?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... does she need?' è¦ç”¨ 'She needs...'"
                    },
                    {
                        question: "How many chairs do you need?",
                        translation: "ä½ éœ€è¦å¤šå°‘å¼µæ¤…å­ï¼Ÿ",
                        options: ["I need ten chairs.", "He needs ten chairs.", "She needs ten chairs.", "How many chairs?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... do you need?' è¦ç”¨ 'I need...'"
                    },
                    {
                        question: "How many cups does he need?",
                        translation: "ä»–éœ€è¦å¤šå°‘å€‹æ¯å­ï¼Ÿ",
                        options: ["I need one cup.", "You need one cup.", "He needs one cup.", "How many cups?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... does he need?' è¦ç”¨ 'He needs...'"
                    },
                    {
                        question: "How many bags do you need?",
                        translation: "ä½ éœ€è¦å¤šå°‘å€‹è¢‹å­ï¼Ÿ",
                        options: ["She needs two bags.", "I need two bags.", "He needs two bags.", "How many bags?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... do you need?' è¦ç”¨ 'I need...'"
                    },
                    {
                        question: "How many bottles does she need?",
                        translation: "å¥¹éœ€è¦å¤šå°‘å€‹ç“¶å­ï¼Ÿ",
                        options: ["I need three bottles.", "She needs three bottles.", "You need three bottles.", "How many bottles?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... does she need?' è¦ç”¨ 'She needs...'"
                    },
                    {
                        question: "How many plates do you need?",
                        translation: "ä½ éœ€è¦å¤šå°‘å€‹ç›¤å­ï¼Ÿ",
                        options: ["I need four plates.", "He needs four plates.", "She needs four plates.", "How many plates?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... do you need?' è¦ç”¨ 'I need...'"
                    },
                    {
                        question: "How many spoons does he need?",
                        translation: "ä»–éœ€è¦å¤šå°‘æ”¯æ¹¯åŒ™ï¼Ÿ",
                        options: ["I need five spoons.", "He needs five spoons.", "You need five spoons.", "How many spoons?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... does he need?' è¦ç”¨ 'He needs...'"
                    },
                    {
                        question: "How many toys do you need?",
                        translation: "ä½ éœ€è¦å¤šå°‘å€‹ç©å…·ï¼Ÿ",
                        options: ["She needs six toys.", "I need six toys.", "He needs six toys.", "How many toys?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... do you need?' è¦ç”¨ 'I need...'"
                    },
                    {
                        question: "How many flowers does she need?",
                        translation: "å¥¹éœ€è¦å¤šå°‘æœµèŠ±ï¼Ÿ",
                        options: ["I need seven flowers.", "She needs seven flowers.", "You need seven flowers.", "How many flowers?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... does she need?' è¦ç”¨ 'She needs...'"
                    },
                    {
                        question: "How many keys do you need?",
                        translation: "ä½ éœ€è¦å¤šå°‘æŠŠé‘°åŒ™ï¼Ÿ",
                        options: ["I need one key.", "He needs one key.", "She needs one key.", "How many keys?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... do you need?' è¦ç”¨ 'I need...'"
                    },
                    {
                        question: "How many boxes does he need?",
                        translation: "ä»–éœ€è¦å¤šå°‘å€‹ç›’å­ï¼Ÿ",
                        options: ["I need nine boxes.", "He needs nine boxes.", "You need nine boxes.", "How many boxes?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... does he need?' è¦ç”¨ 'He needs...'"
                    },
                    {
                        question: "How many cards do you need?",
                        translation: "ä½ éœ€è¦å¤šå°‘å¼µå¡ç‰‡ï¼Ÿ",
                        options: ["She needs ten cards.", "I need ten cards.", "He needs ten cards.", "How many cards?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... do you need?' è¦ç”¨ 'I need...'"
                    },
                    {
                        question: "How many balls does she need?",
                        translation: "å¥¹éœ€è¦å¤šå°‘é¡†çƒï¼Ÿ",
                        options: ["I need two balls.", "She needs two balls.", "You need two balls.", "How many balls?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... does she need?' è¦ç”¨ 'She needs...'"
                    },
                    {
                        question: "How many shoes do you need?",
                        translation: "ä½ éœ€è¦å¤šå°‘é›™é‹å­ï¼Ÿ",
                        options: ["I need one pair of shoes.", "He needs one pair of shoes.", "She needs one pair of shoes.", "How many shoes?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... do you need?' è¦ç”¨ 'I need...'"
                    },
                    {
                        question: "How many hats does he need?",
                        translation: "ä»–éœ€è¦å¤šå°‘é ‚å¸½å­ï¼Ÿ",
                        options: ["I need three hats.", "He needs three hats.", "You need three hats.", "How many hats?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'How many... does he need?' è¦ç”¨ 'He needs...'"
                    }
                ]
            },
            3: {
                title: "What day is it? / Is it...?",
                example: "A: What day is today? â†’ It's Sunday.<br>B: Is it Monday today? â†’ Yes, it is. / No, it isn't. It's Tuesday.",
                questions: [
                    {
                        question: "What day is today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¹¾ï¼Ÿ",
                        options: ["It's Sunday.", "Is it Sunday?", "Yes, it is.", "No, it isn't."],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What day is today?' è¦ç”¨ 'It's + æ˜ŸæœŸ'"
                    },
                    {
                        question: "Is it Monday today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸä¸€å—ï¼Ÿ",
                        options: ["It's Monday.", "Yes, it is.", "What day is it?", "It's Tuesday."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Is it...?' çš„å•é¡Œè¦ç”¨ 'Yes, it is.' æˆ– 'No, it isn't.'"
                    },
                    {
                        question: "What day is today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¹¾ï¼Ÿ",
                        options: ["Yes, it is.", "Is it Friday?", "It's Friday.", "No, it isn't."],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What day is today?' è¦ç”¨ 'It's + æ˜ŸæœŸ'"
                    },
                    {
                        question: "Is it Wednesday today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸä¸‰å—ï¼Ÿ",
                        options: ["It's Wednesday.", "No, it isn't. It's Thursday.", "What day is it?", "Yes, it is."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å¯ä»¥èªªä¸æ˜¯ä¸¦èªªå‡ºæ­£ç¢ºçš„æ˜ŸæœŸ"
                    },
                    {
                        question: "What day is today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¹¾ï¼Ÿ",
                        options: ["Is it Saturday?", "It's Saturday.", "Yes, it is.", "No, it isn't."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What day is today?' è¦ç”¨ 'It's + æ˜ŸæœŸ'"
                    },
                    {
                        question: "Is it Tuesday today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸäºŒå—ï¼Ÿ",
                        options: ["It's Tuesday.", "What day is it?", "Yes, it is.", "It's Monday."],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Is it...?' çš„å•é¡Œè¦ç”¨ 'Yes, it is.'"
                    },
                    {
                        question: "What day is today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¹¾ï¼Ÿ",
                        options: ["No, it isn't.", "It's Thursday.", "Is it Thursday?", "Yes, it is."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What day is today?' è¦ç”¨ 'It's + æ˜ŸæœŸ'"
                    },
                    {
                        question: "Is it Sunday today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¤©å—ï¼Ÿ",
                        options: ["It's Sunday.", "No, it isn't.", "What day is it?", "It's Monday."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Is it...?' çš„å•é¡Œè¦ç”¨ 'No, it isn't.'"
                    },
                    {
                        question: "What day is today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¹¾ï¼Ÿ",
                        options: ["Yes, it is.", "It's Wednesday.", "Is it Wednesday?", "No, it isn't."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What day is today?' è¦ç”¨ 'It's + æ˜ŸæœŸ'"
                    },
                    {
                        question: "Is it Friday today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸäº”å—ï¼Ÿ",
                        options: ["What day is it?", "It's Friday.", "No, it isn't. It's Saturday.", "Yes, it is."],
                        correct: 3,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Is it...?' çš„å•é¡Œè¦ç”¨ 'Yes, it is.'"
                    },
                    {
                        question: "What day is today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¹¾ï¼Ÿ",
                        options: ["It's Tuesday.", "Is it Tuesday?", "Yes, it is.", "No, it isn't."],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What day is today?' è¦ç”¨ 'It's + æ˜ŸæœŸ'"
                    },
                    {
                        question: "Is it Thursday today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå››å—ï¼Ÿ",
                        options: ["It's Thursday.", "Yes, it is.", "What day is it?", "It's Friday."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Is it...?' çš„å•é¡Œè¦ç”¨ 'Yes, it is.'"
                    },
                    {
                        question: "What day is today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¹¾ï¼Ÿ",
                        options: ["No, it isn't.", "Is it Monday?", "It's Monday.", "Yes, it is."],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What day is today?' è¦ç”¨ 'It's + æ˜ŸæœŸ'"
                    },
                    {
                        question: "Is it Saturday today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå…­å—ï¼Ÿ",
                        options: ["It's Saturday.", "No, it isn't. It's Sunday.", "What day is it?", "Yes, it is."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å¯ä»¥èªªä¸æ˜¯ä¸¦èªªå‡ºæ­£ç¢ºçš„æ˜ŸæœŸ"
                    },
                    {
                        question: "What day is today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¹¾ï¼Ÿ",
                        options: ["Yes, it is.", "It's Sunday.", "Is it Sunday?", "No, it isn't."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What day is today?' è¦ç”¨ 'It's + æ˜ŸæœŸ'"
                    },
                    {
                        question: "Is it Wednesday today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸä¸‰å—ï¼Ÿ",
                        options: ["It's Wednesday.", "What day is it?", "No, it isn't.", "It's Thursday."],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Is it...?' çš„å•é¡Œè¦ç”¨ 'No, it isn't.'"
                    },
                    {
                        question: "What day is today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¹¾ï¼Ÿ",
                        options: ["It's Friday.", "Is it Friday?", "Yes, it is.", "No, it isn't."],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What day is today?' è¦ç”¨ 'It's + æ˜ŸæœŸ'"
                    },
                    {
                        question: "Is it Monday today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸä¸€å—ï¼Ÿ",
                        options: ["It's Monday.", "Yes, it is.", "What day is it?", "It's Tuesday."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'Is it...?' çš„å•é¡Œè¦ç”¨ 'Yes, it is.'"
                    },
                    {
                        question: "What day is today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¹¾ï¼Ÿ",
                        options: ["No, it isn't.", "It's Thursday.", "Is it Thursday?", "Yes, it is."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What day is today?' è¦ç”¨ 'It's + æ˜ŸæœŸ'"
                    },
                    {
                        question: "Is it Tuesday today?",
                        translation: "ä»Šå¤©æ˜¯æ˜ŸæœŸäºŒå—ï¼Ÿ",
                        options: ["It's Tuesday.", "No, it isn't. It's Wednesday.", "What day is it?", "Yes, it is."],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å¯ä»¥èªªä¸æ˜¯ä¸¦èªªå‡ºæ­£ç¢ºçš„æ˜ŸæœŸ"
                    }
                ]
            },
            4: {
                title: "What's your/his/her favorite subject?",
                example: "A: What's your favorite subject? â†’ My favorite subject is English.<br>B: What's his/her favorite subject? â†’ His/Her favorite subject is science.",
                questions: [
                    {
                        question: "What's your favorite subject?",
                        translation: "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is English.", "His favorite subject is English.", "Her favorite subject is English.", "What's your favorite subject?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's your favorite subject?' è¦ç”¨ 'My favorite subject is...'"
                    },
                    {
                        question: "What's his favorite subject?",
                        translation: "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is math.", "Your favorite subject is math.", "His favorite subject is math.", "What's his favorite subject?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's his favorite subject?' è¦ç”¨ 'His favorite subject is...'"
                    },
                    {
                        question: "What's your favorite subject?",
                        translation: "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["Her favorite subject is science.", "My favorite subject is science.", "His favorite subject is science.", "What's your favorite subject?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's your favorite subject?' è¦ç”¨ 'My favorite subject is...'"
                    },
                    {
                        question: "What's her favorite subject?",
                        translation: "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is art.", "His favorite subject is art.", "Her favorite subject is art.", "What's her favorite subject?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's her favorite subject?' è¦ç”¨ 'Her favorite subject is...'"
                    },
                    {
                        question: "What's your favorite subject?",
                        translation: "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is Chinese.", "His favorite subject is Chinese.", "Her favorite subject is Chinese.", "What's your favorite subject?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's your favorite subject?' è¦ç”¨ 'My favorite subject is...'"
                    },
                    {
                        question: "What's his favorite subject?",
                        translation: "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is PE.", "Your favorite subject is PE.", "His favorite subject is PE.", "What's his favorite subject?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's his favorite subject?' è¦ç”¨ 'His favorite subject is...'"
                    },
                    {
                        question: "What's your favorite subject?",
                        translation: "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["Her favorite subject is music.", "My favorite subject is music.", "His favorite subject is music.", "What's your favorite subject?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's your favorite subject?' è¦ç”¨ 'My favorite subject is...'"
                    },
                    {
                        question: "What's her favorite subject?",
                        translation: "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is social studies.", "His favorite subject is social studies.", "Her favorite subject is social studies.", "What's her favorite subject?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's her favorite subject?' è¦ç”¨ 'Her favorite subject is...'"
                    },
                    {
                        question: "What's your favorite subject?",
                        translation: "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is computer.", "His favorite subject is computer.", "Her favorite subject is computer.", "What's your favorite subject?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's your favorite subject?' è¦ç”¨ 'My favorite subject is...'"
                    },
                    {
                        question: "What's his favorite subject?",
                        translation: "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is health.", "Your favorite subject is health.", "His favorite subject is health.", "What's his favorite subject?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's his favorite subject?' è¦ç”¨ 'His favorite subject is...'"
                    },
                    {
                        question: "What's your favorite subject?",
                        translation: "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["Her favorite subject is nature.", "My favorite subject is nature.", "His favorite subject is nature.", "What's your favorite subject?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's your favorite subject?' è¦ç”¨ 'My favorite subject is...'"
                    },
                    {
                        question: "What's her favorite subject?",
                        translation: "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is reading.", "His favorite subject is reading.", "Her favorite subject is reading.", "What's her favorite subject?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's her favorite subject?' è¦ç”¨ 'Her favorite subject is...'"
                    },
                    {
                        question: "What's your favorite subject?",
                        translation: "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is writing.", "His favorite subject is writing.", "Her favorite subject is writing.", "What's your favorite subject?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's your favorite subject?' è¦ç”¨ 'My favorite subject is...'"
                    },
                    {
                        question: "What's his favorite subject?",
                        translation: "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is history.", "Your favorite subject is history.", "His favorite subject is history.", "What's his favorite subject?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's his favorite subject?' è¦ç”¨ 'His favorite subject is...'"
                    },
                    {
                        question: "What's your favorite subject?",
                        translation: "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["Her favorite subject is geography.", "My favorite subject is geography.", "His favorite subject is geography.", "What's your favorite subject?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's your favorite subject?' è¦ç”¨ 'My favorite subject is...'"
                    },
                    {
                        question: "What's her favorite subject?",
                        translation: "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is drawing.", "His favorite subject is drawing.", "Her favorite subject is drawing.", "What's her favorite subject?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's her favorite subject?' è¦ç”¨ 'Her favorite subject is...'"
                    },
                    {
                        question: "What's your favorite subject?",
                        translation: "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is singing.", "His favorite subject is singing.", "Her favorite subject is singing.", "What's your favorite subject?"],
                        correct: 0,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's your favorite subject?' è¦ç”¨ 'My favorite subject is...'"
                    },
                    {
                        question: "What's his favorite subject?",
                        translation: "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is dancing.", "Your favorite subject is dancing.", "His favorite subject is dancing.", "What's his favorite subject?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's his favorite subject?' è¦ç”¨ 'His favorite subject is...'"
                    },
                    {
                        question: "What's your favorite subject?",
                        translation: "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["Her favorite subject is sports.", "My favorite subject is sports.", "His favorite subject is sports.", "What's your favorite subject?"],
                        correct: 1,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's your favorite subject?' è¦ç”¨ 'My favorite subject is...'"
                    },
                    {
                        question: "What's her favorite subject?",
                        translation: "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                        options: ["My favorite subject is games.", "His favorite subject is games.", "Her favorite subject is games.", "What's her favorite subject?"],
                        correct: 2,
                        explanation: "æ­£ç¢ºï¼å›ç­” 'What's her favorite subject?' è¦ç”¨ 'Her favorite subject is...'"
                    }
                ]
            }
        };

        function startUnit(unitNumber) {
            currentUnit = unitNumber;
            currentQuestion = 0;
            correctAnswers = 0;
            totalQuestions = 0;
            answered = false;
            answerRecord = [];
            gameCompleted = false; // é‡ç½®éŠæˆ²å®Œæˆæ¨™è¨˜
            
            currentQuestions = [...units[unitNumber].questions];
            shuffleArray(currentQuestions);
            
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('game-page').style.display = 'block';
            document.getElementById('next-btn').style.display = 'inline-block'; // ç¢ºä¿æŒ‰éˆ•é¡¯ç¤º
            
            document.getElementById('pattern-example').innerHTML = units[unitNumber].example;
            
            initializeAnswerRecord();
            displayQuestion();
        }

        function goHome() {
            document.getElementById('home-page').style.display = 'block';
            document.getElementById('game-page').style.display = 'none';
            loadAnswerHistory();
            displayAnswerHistory();
        }
        
        function loadAnswerHistory() {
            const saved = localStorage.getItem('englishPracticeHistory');
            if (saved) {
                answerHistory = JSON.parse(saved);
            }
        }
        
        function saveAnswerHistory() {
            localStorage.setItem('englishPracticeHistory', JSON.stringify(answerHistory));
        }
        
        function addToHistory(unitNumber, correct, total) {
            const percentage = Math.round((correct / total) * 100);
            const now = new Date();
            const timeString = now.toLocaleString('zh-TW', {
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const historyItem = {
                unit: unitNumber,
                correct: correct,
                total: total,
                percentage: percentage,
                time: timeString,
                timestamp: now.getTime()
            };
            
            answerHistory.unshift(historyItem); // æ–°è¨˜éŒ„æ”¾åœ¨æœ€å‰é¢
            
            // åªä¿ç•™æœ€è¿‘10ç­†è¨˜éŒ„
            if (answerHistory.length > 10) {
                answerHistory = answerHistory.slice(0, 10);
            }
            
            saveAnswerHistory();
        }
        
        function displayAnswerHistory() {
            const historySection = document.getElementById('history-section');
            const historyList = document.getElementById('history-list');
            
            if (answerHistory.length === 0) {
                historySection.style.display = 'none';
                return;
            }
            
            historySection.style.display = 'block';
            historyList.innerHTML = '';
            
            answerHistory.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                let percentageClass = 'percentage-poor';
                if (item.percentage >= 90) percentageClass = 'percentage-excellent';
                else if (item.percentage >= 80) percentageClass = 'percentage-good';
                else if (item.percentage >= 60) percentageClass = 'percentage-fair';
                
                historyItem.innerHTML = `
                    <div class="history-info">
                        <div class="history-unit">ç¬¬${item.unit}å–®å…ƒ</div>
                        <div class="history-score">
                            ${item.correct}/${item.total} é¡Œæ­£ç¢º
                            <div class="history-time">${item.time}</div>
                        </div>
                    </div>
                    <div class="history-percentage ${percentageClass}">
                        ${item.percentage}%
                    </div>
                `;
                
                historyList.appendChild(historyItem);
            });
        }
        
        function clearHistory() {
            if (answerHistory.length === 0) return;
            
            // ä½¿ç”¨è‡ªå®šç¾©ç¢ºèªå°è©±æ¡†
            const confirmDialog = document.createElement('div');
            confirmDialog.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.5);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
            `;
            
            confirmDialog.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 15px; text-align: center; max-width: 400px; margin: 20px;">
                    <h3 style="color: #4a5568; margin-bottom: 15px;">ğŸ—‘ï¸ ç¢ºèªæ¸…ç©ºè¨˜éŒ„</h3>
                    <p style="color: #718096; margin-bottom: 25px;">ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰ç­”é¡Œè¨˜éŒ„å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚</p>
                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" 
                                style="background: #718096; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer;">
                            å–æ¶ˆ
                        </button>
                        <button onclick="confirmClearHistory(); this.parentElement.parentElement.parentElement.remove()" 
                                style="background: #f56565; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer;">
                            ç¢ºå®šæ¸…ç©º
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(confirmDialog);
        }
        
        function confirmClearHistory() {
            answerHistory = [];
            saveAnswerHistory();
            displayAnswerHistory();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            }
        }

        function getAnswerTranslation(answer) {
            const translations = {
                // ç¬¬ä¸€å–®å…ƒç¿»è­¯
                "Yes, I do.": "æ˜¯çš„ï¼Œæˆ‘å–œæ­¡ã€‚",
                "No, I don't.": "ä¸ï¼Œæˆ‘ä¸å–œæ­¡ã€‚",
                "Yes, he does.": "æ˜¯çš„ï¼Œä»–å–œæ­¡ã€‚",
                "No, he doesn't.": "ä¸ï¼Œä»–ä¸å–œæ­¡ã€‚",
                "Yes, she does.": "æ˜¯çš„ï¼Œå¥¹å–œæ­¡ã€‚",
                "No, she doesn't.": "ä¸ï¼Œå¥¹ä¸å–œæ­¡ã€‚",
                "No, I don't. I like juice.": "ä¸ï¼Œæˆ‘ä¸å–œæ­¡ã€‚æˆ‘å–œæ­¡æœæ±ã€‚",
                "No, he doesn't. He likes milk.": "ä¸ï¼Œä»–ä¸å–œæ­¡ã€‚ä»–å–œæ­¡ç‰›å¥¶ã€‚",
                "No, he doesn't. He likes apples.": "ä¸ï¼Œä»–ä¸å–œæ­¡ã€‚ä»–å–œæ­¡è˜‹æœã€‚",
                "No, I don't. I like rice.": "ä¸ï¼Œæˆ‘ä¸å–œæ­¡ã€‚æˆ‘å–œæ­¡ç±³é£¯ã€‚",
                "No, she doesn't. She likes fish.": "ä¸ï¼Œå¥¹ä¸å–œæ­¡ã€‚å¥¹å–œæ­¡é­šã€‚",
                "No, I don't. I like sandwiches.": "ä¸ï¼Œæˆ‘ä¸å–œæ­¡ã€‚æˆ‘å–œæ­¡ä¸‰æ˜æ²»ã€‚",
                
                // å•å¥ç¿»è­¯
                "Do you like pizza?": "ä½ å–œæ­¡æŠ«è–©å—ï¼Ÿ",
                "Does he like pizza?": "ä»–å–œæ­¡æŠ«è–©å—ï¼Ÿ",
                "Do you like coffee?": "ä½ å–œæ­¡å’–å•¡å—ï¼Ÿ",
                "Does she like tea?": "å¥¹å–œæ­¡èŒ¶å—ï¼Ÿ",
                "Do you like it?": "ä½ å–œæ­¡å®ƒå—ï¼Ÿ",
                "Does he like it?": "ä»–å–œæ­¡å®ƒå—ï¼Ÿ",
                "Does she like them?": "å¥¹å–œæ­¡å®ƒå€‘å—ï¼Ÿ",
                "Do you like juice?": "ä½ å–œæ­¡æœæ±å—ï¼Ÿ",
                "Do you like bananas?": "ä½ å–œæ­¡é¦™è•‰å—ï¼Ÿ",
                "Does he like milk?": "ä»–å–œæ­¡ç‰›å¥¶å—ï¼Ÿ",
                "Do you like cookies?": "ä½ å–œæ­¡é¤…ä¹¾å—ï¼Ÿ",
                "Does she like rice?": "å¥¹å–œæ­¡ç±³é£¯å—ï¼Ÿ",
                "Do you like noodles?": "ä½ å–œæ­¡éºµæ¢å—ï¼Ÿ",
                "Does she like fish?": "å¥¹å–œæ­¡é­šå—ï¼Ÿ",
                "Do you like chicken?": "ä½ å–œæ­¡é›è‚‰å—ï¼Ÿ",
                "Does he like vegetables?": "ä»–å–œæ­¡è”¬èœå—ï¼Ÿ",
                "Do you like bread?": "ä½ å–œæ­¡éºµåŒ…å—ï¼Ÿ",
                "Does she like cake?": "å¥¹å–œæ­¡è›‹ç³•å—ï¼Ÿ",
                "Do you like soup?": "ä½ å–œæ­¡æ¹¯å—ï¼Ÿ",
                "How many apples?": "å¤šå°‘é¡†è˜‹æœï¼Ÿ",
                "How many oranges?": "å¤šå°‘é¡†æ©˜å­ï¼Ÿ",
                "How many books?": "å¤šå°‘æœ¬æ›¸ï¼Ÿ",
                "How many pencils?": "å¤šå°‘æ”¯é‰›ç­†ï¼Ÿ",
                "How many cookies?": "å¤šå°‘ç‰‡é¤…ä¹¾ï¼Ÿ",
                "How many eggs?": "å¤šå°‘é¡†è›‹ï¼Ÿ",
                "How many chairs?": "å¤šå°‘å¼µæ¤…å­ï¼Ÿ",
                "How many cups?": "å¤šå°‘å€‹æ¯å­ï¼Ÿ",
                "How many bags?": "å¤šå°‘å€‹è¢‹å­ï¼Ÿ",
                "How many bottles?": "å¤šå°‘å€‹ç“¶å­ï¼Ÿ",
                "How many plates?": "å¤šå°‘å€‹ç›¤å­ï¼Ÿ",
                "How many spoons?": "å¤šå°‘æ”¯æ¹¯åŒ™ï¼Ÿ",
                "How many toys?": "å¤šå°‘å€‹ç©å…·ï¼Ÿ",
                "How many flowers?": "å¤šå°‘æœµèŠ±ï¼Ÿ",
                "How many keys?": "å¤šå°‘æŠŠé‘°åŒ™ï¼Ÿ",
                "How many boxes?": "å¤šå°‘å€‹ç›’å­ï¼Ÿ",
                "How many cards?": "å¤šå°‘å¼µå¡ç‰‡ï¼Ÿ",
                "How many balls?": "å¤šå°‘é¡†çƒï¼Ÿ",
                "How many shoes?": "å¤šå°‘é›™é‹å­ï¼Ÿ",
                "How many hats?": "å¤šå°‘é ‚å¸½å­ï¼Ÿ",
                "Is it Sunday?": "ä»Šå¤©æ˜¯æ˜ŸæœŸå¤©å—ï¼Ÿ",
                "Is it Monday?": "ä»Šå¤©æ˜¯æ˜ŸæœŸä¸€å—ï¼Ÿ",
                "Is it Tuesday?": "ä»Šå¤©æ˜¯æ˜ŸæœŸäºŒå—ï¼Ÿ",
                "Is it Wednesday?": "ä»Šå¤©æ˜¯æ˜ŸæœŸä¸‰å—ï¼Ÿ",
                "Is it Thursday?": "ä»Šå¤©æ˜¯æ˜ŸæœŸå››å—ï¼Ÿ",
                "Is it Friday?": "ä»Šå¤©æ˜¯æ˜ŸæœŸäº”å—ï¼Ÿ",
                "Is it Saturday?": "ä»Šå¤©æ˜¯æ˜ŸæœŸå…­å—ï¼Ÿ",
                "What day is it?": "ä»Šå¤©æ˜¯æ˜ŸæœŸå¹¾ï¼Ÿ",
                "What's your favorite subject?": "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                "What's his favorite subject?": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                "What's her favorite subject?": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä»€éº¼ï¼Ÿ",
                
                // ç¬¬äºŒå–®å…ƒç¿»è­¯
                "I need two apples.": "æˆ‘éœ€è¦å…©é¡†è˜‹æœã€‚",
                "He needs two apples.": "ä»–éœ€è¦å…©é¡†è˜‹æœã€‚",
                "She needs two apples.": "å¥¹éœ€è¦å…©é¡†è˜‹æœã€‚",
                "I need five oranges.": "æˆ‘éœ€è¦äº”é¡†æ©˜å­ã€‚",
                "You need five oranges.": "ä½ éœ€è¦äº”é¡†æ©˜å­ã€‚",
                "She needs five oranges.": "å¥¹éœ€è¦äº”é¡†æ©˜å­ã€‚",
                "I need three books.": "æˆ‘éœ€è¦ä¸‰æœ¬æ›¸ã€‚",
                "He needs three books.": "ä»–éœ€è¦ä¸‰æœ¬æ›¸ã€‚",
                "She needs three books.": "å¥¹éœ€è¦ä¸‰æœ¬æ›¸ã€‚",
                "I need four pencils.": "æˆ‘éœ€è¦å››æ”¯é‰›ç­†ã€‚",
                "He needs four pencils.": "ä»–éœ€è¦å››æ”¯é‰›ç­†ã€‚",
                "You need four pencils.": "ä½ éœ€è¦å››æ”¯é‰›ç­†ã€‚",
                "She needs six cookies.": "å¥¹éœ€è¦å…­ç‰‡é¤…ä¹¾ã€‚",
                "I need six cookies.": "æˆ‘éœ€è¦å…­ç‰‡é¤…ä¹¾ã€‚",
                "He needs six cookies.": "ä»–éœ€è¦å…­ç‰‡é¤…ä¹¾ã€‚",
                "I need eight eggs.": "æˆ‘éœ€è¦å…«é¡†è›‹ã€‚",
                "She needs eight eggs.": "å¥¹éœ€è¦å…«é¡†è›‹ã€‚",
                "You need eight eggs.": "ä½ éœ€è¦å…«é¡†è›‹ã€‚",
                "I need ten chairs.": "æˆ‘éœ€è¦åå¼µæ¤…å­ã€‚",
                "He needs ten chairs.": "ä»–éœ€è¦åå¼µæ¤…å­ã€‚",
                "She needs ten chairs.": "å¥¹éœ€è¦åå¼µæ¤…å­ã€‚",
                "I need one cup.": "æˆ‘éœ€è¦ä¸€å€‹æ¯å­ã€‚",
                "He needs one cup.": "ä»–éœ€è¦ä¸€å€‹æ¯å­ã€‚",
                "You need one cup.": "ä½ éœ€è¦ä¸€å€‹æ¯å­ã€‚",
                "She needs two bags.": "å¥¹éœ€è¦å…©å€‹è¢‹å­ã€‚",
                "I need two bags.": "æˆ‘éœ€è¦å…©å€‹è¢‹å­ã€‚",
                "He needs two bags.": "ä»–éœ€è¦å…©å€‹è¢‹å­ã€‚",
                "I need three bottles.": "æˆ‘éœ€è¦ä¸‰å€‹ç“¶å­ã€‚",
                "She needs three bottles.": "å¥¹éœ€è¦ä¸‰å€‹ç“¶å­ã€‚",
                "You need three bottles.": "ä½ éœ€è¦ä¸‰å€‹ç“¶å­ã€‚",
                "I need four plates.": "æˆ‘éœ€è¦å››å€‹ç›¤å­ã€‚",
                "He needs four plates.": "ä»–éœ€è¦å››å€‹ç›¤å­ã€‚",
                "She needs four plates.": "å¥¹éœ€è¦å››å€‹ç›¤å­ã€‚",
                "I need five spoons.": "æˆ‘éœ€è¦äº”æ”¯æ¹¯åŒ™ã€‚",
                "He needs five spoons.": "ä»–éœ€è¦äº”æ”¯æ¹¯åŒ™ã€‚",
                "You need five spoons.": "ä½ éœ€è¦äº”æ”¯æ¹¯åŒ™ã€‚",
                "She needs six toys.": "å¥¹éœ€è¦å…­å€‹ç©å…·ã€‚",
                "I need six toys.": "æˆ‘éœ€è¦å…­å€‹ç©å…·ã€‚",
                "He needs six toys.": "ä»–éœ€è¦å…­å€‹ç©å…·ã€‚",
                "I need seven flowers.": "æˆ‘éœ€è¦ä¸ƒæœµèŠ±ã€‚",
                "She needs seven flowers.": "å¥¹éœ€è¦ä¸ƒæœµèŠ±ã€‚",
                "You need seven flowers.": "ä½ éœ€è¦ä¸ƒæœµèŠ±ã€‚",
                "I need one key.": "æˆ‘éœ€è¦ä¸€æŠŠé‘°åŒ™ã€‚",
                "He needs one key.": "ä»–éœ€è¦ä¸€æŠŠé‘°åŒ™ã€‚",
                "She needs one key.": "å¥¹éœ€è¦ä¸€æŠŠé‘°åŒ™ã€‚",
                "I need nine boxes.": "æˆ‘éœ€è¦ä¹å€‹ç›’å­ã€‚",
                "He needs nine boxes.": "ä»–éœ€è¦ä¹å€‹ç›’å­ã€‚",
                "You need nine boxes.": "ä½ éœ€è¦ä¹å€‹ç›’å­ã€‚",
                "I need ten cards.": "æˆ‘éœ€è¦åå¼µå¡ç‰‡ã€‚",
                "She needs ten cards.": "å¥¹éœ€è¦åå¼µå¡ç‰‡ã€‚",
                "He needs ten cards.": "ä»–éœ€è¦åå¼µå¡ç‰‡ã€‚",
                "I need two balls.": "æˆ‘éœ€è¦å…©é¡†çƒã€‚",
                "She needs two balls.": "å¥¹éœ€è¦å…©é¡†çƒã€‚",
                "You need two balls.": "ä½ éœ€è¦å…©é¡†çƒã€‚",
                "I need one pair of shoes.": "æˆ‘éœ€è¦ä¸€é›™é‹å­ã€‚",
                "He needs one pair of shoes.": "ä»–éœ€è¦ä¸€é›™é‹å­ã€‚",
                "She needs one pair of shoes.": "å¥¹éœ€è¦ä¸€é›™é‹å­ã€‚",
                "I need three hats.": "æˆ‘éœ€è¦ä¸‰é ‚å¸½å­ã€‚",
                "He needs three hats.": "ä»–éœ€è¦ä¸‰é ‚å¸½å­ã€‚",
                "You need three hats.": "ä½ éœ€è¦ä¸‰é ‚å¸½å­ã€‚",
                
                // ç¬¬ä¸‰å–®å…ƒç¿»è­¯
                "It's Sunday.": "ä»Šå¤©æ˜¯æ˜ŸæœŸå¤©ã€‚",
                "It's Monday.": "ä»Šå¤©æ˜¯æ˜ŸæœŸä¸€ã€‚",
                "It's Tuesday.": "ä»Šå¤©æ˜¯æ˜ŸæœŸäºŒã€‚",
                "It's Wednesday.": "ä»Šå¤©æ˜¯æ˜ŸæœŸä¸‰ã€‚",
                "It's Thursday.": "ä»Šå¤©æ˜¯æ˜ŸæœŸå››ã€‚",
                "It's Friday.": "ä»Šå¤©æ˜¯æ˜ŸæœŸäº”ã€‚",
                "It's Saturday.": "ä»Šå¤©æ˜¯æ˜ŸæœŸå…­ã€‚",
                "Yes, it is.": "æ˜¯çš„ï¼Œæ²’éŒ¯ã€‚",
                "No, it isn't.": "ä¸ï¼Œä¸æ˜¯ã€‚",
                "No, it isn't. It's Thursday.": "ä¸ï¼Œä¸æ˜¯ã€‚ä»Šå¤©æ˜¯æ˜ŸæœŸå››ã€‚",
                "No, it isn't. It's Saturday.": "ä¸ï¼Œä¸æ˜¯ã€‚ä»Šå¤©æ˜¯æ˜ŸæœŸå…­ã€‚",
                "No, it isn't. It's Sunday.": "ä¸ï¼Œä¸æ˜¯ã€‚ä»Šå¤©æ˜¯æ˜ŸæœŸå¤©ã€‚",
                "No, it isn't. It's Wednesday.": "ä¸ï¼Œä¸æ˜¯ã€‚ä»Šå¤©æ˜¯æ˜ŸæœŸä¸‰ã€‚",
                
                // ç¬¬å››å–®å…ƒç¿»è­¯
                "My favorite subject is English.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è‹±èªã€‚",
                "His favorite subject is English.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è‹±èªã€‚",
                "Her favorite subject is English.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è‹±èªã€‚",
                "My favorite subject is math.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯æ•¸å­¸ã€‚",
                "Your favorite subject is math.": "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯æ•¸å­¸ã€‚",
                "His favorite subject is math.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯æ•¸å­¸ã€‚",
                "My favorite subject is science.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ç§‘å­¸ã€‚",
                "His favorite subject is science.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ç§‘å­¸ã€‚",
                "Her favorite subject is science.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ç§‘å­¸ã€‚",
                "My favorite subject is art.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è—è¡“ã€‚",
                "His favorite subject is art.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è—è¡“ã€‚",
                "Her favorite subject is art.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è—è¡“ã€‚",
                "My favorite subject is Chinese.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä¸­æ–‡ã€‚",
                "His favorite subject is Chinese.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä¸­æ–‡ã€‚",
                "Her favorite subject is Chinese.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ä¸­æ–‡ã€‚",
                "My favorite subject is PE.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é«”è‚²ã€‚",
                "Your favorite subject is PE.": "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é«”è‚²ã€‚",
                "His favorite subject is PE.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é«”è‚²ã€‚",
                "My favorite subject is music.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯éŸ³æ¨‚ã€‚",
                "His favorite subject is music.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯éŸ³æ¨‚ã€‚",
                "Her favorite subject is music.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯éŸ³æ¨‚ã€‚",
                "My favorite subject is social studies.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ç¤¾æœƒã€‚",
                "His favorite subject is social studies.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ç¤¾æœƒã€‚",
                "Her favorite subject is social studies.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ç¤¾æœƒã€‚",
                "My favorite subject is computer.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é›»è…¦ã€‚",
                "His favorite subject is computer.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é›»è…¦ã€‚",
                "Her favorite subject is computer.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é›»è…¦ã€‚",
                "My favorite subject is health.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯å¥åº·ã€‚",
                "Your favorite subject is health.": "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯å¥åº·ã€‚",
                "His favorite subject is health.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯å¥åº·ã€‚",
                "My favorite subject is nature.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è‡ªç„¶ã€‚",
                "His favorite subject is nature.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è‡ªç„¶ã€‚",
                "Her favorite subject is nature.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è‡ªç„¶ã€‚",
                "My favorite subject is reading.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é–±è®€ã€‚",
                "His favorite subject is reading.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é–±è®€ã€‚",
                "Her favorite subject is reading.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é–±è®€ã€‚",
                "My favorite subject is writing.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯å¯«ä½œã€‚",
                "His favorite subject is writing.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯å¯«ä½œã€‚",
                "Her favorite subject is writing.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯å¯«ä½œã€‚",
                "My favorite subject is history.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯æ­·å²ã€‚",
                "Your favorite subject is history.": "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯æ­·å²ã€‚",
                "His favorite subject is history.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯æ­·å²ã€‚",
                "My favorite subject is geography.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯åœ°ç†ã€‚",
                "His favorite subject is geography.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯åœ°ç†ã€‚",
                "Her favorite subject is geography.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯åœ°ç†ã€‚",
                "My favorite subject is drawing.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ç¹ªç•«ã€‚",
                "His favorite subject is drawing.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ç¹ªç•«ã€‚",
                "Her favorite subject is drawing.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯ç¹ªç•«ã€‚",
                "My favorite subject is singing.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯å”±æ­Œã€‚",
                "His favorite subject is singing.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯å”±æ­Œã€‚",
                "Her favorite subject is singing.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯å”±æ­Œã€‚",
                "My favorite subject is dancing.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è·³èˆã€‚",
                "Your favorite subject is dancing.": "ä½ æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è·³èˆã€‚",
                "His favorite subject is dancing.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯è·³èˆã€‚",
                "My favorite subject is sports.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é‹å‹•ã€‚",
                "His favorite subject is sports.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é‹å‹•ã€‚",
                "Her favorite subject is sports.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯é‹å‹•ã€‚",
                "My favorite subject is games.": "æˆ‘æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯éŠæˆ²ã€‚",
                "His favorite subject is games.": "ä»–æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯éŠæˆ²ã€‚",
                "Her favorite subject is games.": "å¥¹æœ€å–œæ­¡çš„ç§‘ç›®æ˜¯éŠæˆ²ã€‚"
            };
            
            return translations[answer] || "";
        }

        function initializeAnswerRecord() {
            const recordGrid = document.getElementById('record-grid');
            recordGrid.innerHTML = '';
            
            for (let i = 0; i < currentQuestions.length; i++) {
                const recordItem = document.createElement('div');
                recordItem.className = 'record-item';
                recordItem.textContent = i + 1;
                recordItem.id = `record-${i}`;
                recordGrid.appendChild(recordItem);
                answerRecord.push(null);
            }
            
            updateCurrentQuestion();
        }

        function updateAnswerRecord(questionIndex, isCorrect) {
            answerRecord[questionIndex] = isCorrect;
            const recordItem = document.getElementById(`record-${questionIndex}`);
            recordItem.classList.remove('current');
            recordItem.classList.add(isCorrect ? 'correct' : 'wrong');
            recordItem.textContent = isCorrect ? 'âœ“' : 'âœ—';
        }

        function updateCurrentQuestion() {
            // ç§»é™¤ä¹‹å‰çš„ current æ¨™è¨˜
            document.querySelectorAll('.record-item.current').forEach(item => {
                item.classList.remove('current');
            });
            
            // æ¨™è¨˜ç•¶å‰é¡Œç›®
            if (currentQuestion < currentQuestions.length) {
                const currentItem = document.getElementById(`record-${currentQuestion}`);
                if (currentItem) {
                    currentItem.classList.add('current');
                }
            }
        }

        function displayQuestion() {
            if (currentQuestion >= currentQuestions.length) {
                showFinalScore();
                return;
            }

            const question = currentQuestions[currentQuestion];
            document.getElementById('question').textContent = question.question;
            document.getElementById('question-speak').dataset.text = question.question;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const container = document.createElement('div');
                container.className = 'option-container';
                
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.onclick = () => selectAnswer(index);
                
                const speakBtn = document.createElement('button');
                speakBtn.className = 'speak-btn';
                speakBtn.textContent = 'ğŸ”Š';
                speakBtn.onclick = () => speakText(option);
                
                container.appendChild(button);
                container.appendChild(speakBtn);
                optionsContainer.appendChild(container);
            });
            
            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('translation').style.display = 'none';
            document.getElementById('next-btn').disabled = true;
            answered = false;
            
            updateScore();
            updateCurrentQuestion();
        }

        function selectAnswer(selectedIndex) {
            if (answered) return;
            
            answered = true;
            totalQuestions++;
            
            const question = currentQuestions[currentQuestion];
            const buttons = document.querySelectorAll('.option-btn');
            const feedback = document.getElementById('feedback');
            
            buttons.forEach((button, index) => {
                button.onclick = null;
                const translation = getAnswerTranslation(question.options[index]);
                button.innerHTML = `${question.options[index]}<br><small style="font-size: 0.8rem; opacity: 0.7; font-weight: normal;">${translation}</small>`;
                
                if (index === question.correct) {
                    button.classList.add('correct');
                } else if (index === selectedIndex) {
                    button.classList.add('wrong');
                }
            });
            
            const isCorrect = selectedIndex === question.correct;
            
            if (isCorrect) {
                correctAnswers++;
                feedback.textContent = question.explanation;
                feedback.className = 'feedback correct';
            } else {
                const correctAnswerTranslation = getAnswerTranslation(question.options[question.correct]);
                feedback.innerHTML = `éŒ¯èª¤ï¼æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${question.options[question.correct]}<br><small style="font-size: 0.9rem; opacity: 0.8;">${correctAnswerTranslation}</small>`;
                feedback.className = 'feedback wrong';
            }
            
            // æ›´æ–°ç­”é¡Œè¨˜éŒ„
            updateAnswerRecord(currentQuestion, isCorrect);
            
            const translationElement = document.getElementById('translation');
            translationElement.textContent = `ğŸ“ é¡Œç›®ç¿»è­¯ï¼š${question.translation}`;
            translationElement.style.display = 'block';
            
            updateScore();
            document.getElementById('next-btn').disabled = false;
        }

        function nextQuestion() {
            currentQuestion++;
            displayQuestion();
        }

        function updateScore() {
            document.getElementById('current-question').textContent = currentQuestion + 1;
            document.getElementById('total-questions').textContent = currentQuestions.length;
            document.getElementById('remaining').textContent = currentQuestions.length - currentQuestion - 1;
            
            const accuracy = totalQuestions > 0 ? Math.round((correctAnswers / totalQuestions) * 100) : 0;
            document.getElementById('accuracy').textContent = accuracy;
        }

        let gameCompleted = false; // æ–°å¢æ¨™è¨˜è®Šæ•¸
        
        function showFinalScore() {
            if (gameCompleted) return; // é˜²æ­¢é‡è¤‡åŸ·è¡Œ
            gameCompleted = true;
            
            const percentage = Math.round((correctAnswers / totalQuestions) * 100);
            
            // ä¿å­˜ç­”é¡Œè¨˜éŒ„
            addToHistory(currentUnit, correctAnswers, totalQuestions);
            
            document.getElementById('question').textContent = `ğŸ‰ ç¬¬${currentUnit}å–®å…ƒå®Œæˆï¼`;
            document.getElementById('options').innerHTML = `
                <div style="text-align: center; font-size: 1.3rem; color: #4a5568; grid-column: 1/-1;">
                    <p>ä½ çš„æˆç¸¾ï¼š${correctAnswers}/${totalQuestions} (${percentage}%)</p>
                    <div style="display: flex; gap: 15px; justify-content: center; margin-top: 15px;">
                        <button class="btn btn-primary" onclick="startUnit(${currentUnit})">ğŸ”„ é‡æ–°ç·´ç¿’</button>
                        <button class="btn btn-secondary" onclick="goHome()">ğŸ  è¿”å›é¦–é </button>
                    </div>
                </div>
            `;
            document.getElementById('feedback').textContent = percentage >= 80 ? 'å¤ªæ£’äº†ï¼ä½ å·²ç¶“æŒæ¡äº†é€™äº›å¥å‹ï¼' : 'ç¹¼çºŒç·´ç¿’ï¼Œä½ æœƒè¶Šä¾†è¶Šå¥½çš„ï¼';
            document.getElementById('feedback').className = 'feedback correct';
            document.getElementById('next-btn').style.display = 'none';
            
            // éš±è—ç­”é¡Œè¨˜éŒ„ä¸­çš„ current æ¨™è¨˜
            document.querySelectorAll('.record-item.current').forEach(item => {
                item.classList.remove('current');
            });
        }

        // éµç›¤äº‹ä»¶è™•ç†
        document.addEventListener('keydown', function(event) {
            if (event.code === 'Space' && !document.getElementById('next-btn').disabled) {
                event.preventDefault();
                nextQuestion();
            }
        });
        
        // é é¢è¼‰å…¥æ™‚é¡¯ç¤ºç­”é¡Œè¨˜éŒ„
        document.addEventListener('DOMContentLoaded', function() {
            loadAnswerHistory();
            displayAnswerHistory();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'992dec25b322074c',t:'MTc2MTE4Nzc3OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
