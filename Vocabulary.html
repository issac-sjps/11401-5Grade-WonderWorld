<!doctype html>
<html lang="zh-TW">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>11401-5Grade-WonderWorld ä¸»é¡Œå–®å­—è¤‡ç¿’</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
            font-family: 'Microsoft JhengHei', sans-serif;
        }
        .category-card {
            transition: all 0.3s ease;
        }
        .category-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .progress-bar {
            transition: width 0.5s ease;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .bounce {
            animation: bounce 0.6s ease;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
 </head>
 <body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-full">
  <div id="app" class="container mx-auto px-4 py-8 max-w-4xl"><!-- é¦–é  -->
   <div id="homepage" class="text-center">
    <h1 class="text-4xl font-bold text-indigo-800 mb-2">ğŸ¯ 11401-5Grade-WonderWorld ä¸»é¡Œå–®å­—è¤‡ç¿’</h1>
    <p class="text-gray-600 mb-8">é¸æ“‡ä¸€å€‹é¡åˆ¥é–‹å§‹ç·´ç¿’å§ï¼</p><!-- ç®¡ç†æŒ‰éˆ• -->
    <div class="flex justify-center gap-4 mb-8"><button id="show-records-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg shadow-lg transition-colors duration-200"> ğŸ“Š æŸ¥çœ‹ä½œç­”ç´€éŒ„ </button> <button id="clear-records-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg shadow-lg transition-colors duration-200"> ğŸ—‘ï¸ æ¸…é™¤æ‰€æœ‰ç´€éŒ„ </button>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!-- é¡åˆ¥å¡ç‰‡æœƒå‹•æ…‹ç”Ÿæˆ -->
    </div>
   </div><!-- éŠæˆ²é é¢ -->
   <div id="gamepage" class="hidden"><!-- éŠæˆ²æ¨™é¡Œå’Œé€²åº¦ -->
    <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
     <div class="flex justify-between items-center mb-4">
      <div class="flex items-center gap-4"><button id="game-home-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200"> ğŸ  å›é¦–é  </button>
       <h2 id="category-title" class="text-2xl font-bold text-indigo-800"></h2>
      </div>
      <div class="flex items-center gap-4"><button id="show-bank-btn" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg transition-colors duration-200"> é¡¯ç¤ºé¡Œåº« (æ•™å¸«ç”¨) </button>
       <div class="text-right">
        <div id="question-counter" class="text-lg font-semibold text-gray-700"></div>
        <div id="accuracy-rate" class="text-sm text-green-600"></div>
       </div>
      </div>
     </div><!-- é€²åº¦æ¢ -->
     <div class="w-full bg-gray-200 rounded-full h-3 mb-4">
      <div id="progress-bar" class="progress-bar bg-gradient-to-r from-green-400 to-blue-500 h-3 rounded-full" style="width: 0%"></div>
     </div>
    </div><!-- é¡Œç›®å€åŸŸ -->
    <div class="bg-white rounded-lg shadow-lg p-8 mb-6 text-center fade-in">
     <div class="flex items-center justify-center gap-4 mb-6">
      <div id="question-word" class="text-4xl font-bold text-indigo-800"></div><button id="question-pronunciation" class="bg-blue-500 hover:bg-blue-600 text-white rounded-full p-3 transition-colors duration-200 shadow-lg"> ğŸ”Š </button>
     </div>
     <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto"><!-- é¸é …æœƒå‹•æ…‹ç”Ÿæˆ -->
     </div>
    </div><!-- çµæœé¡¯ç¤º -->
    <div id="result-message" class="hidden bg-white rounded-lg shadow-lg p-6 mb-6 text-center">
     <div id="result-text" class="text-xl font-semibold mb-4"></div>
     <div id="correct-answer" class="text-gray-600 mb-4"></div>
    </div><!-- æ§åˆ¶æŒ‰éˆ• -->
    <div class="text-center"><button id="next-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition-colors duration-200"> ä¸‹ä¸€é¡Œ (æˆ–æŒ‰ç©ºç™½éµ) </button>
    </div>
   </div><!-- å¯†ç¢¼è¼¸å…¥æ¨¡æ…‹æ¡† -->
   <div id="password-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4">
     <h3 class="text-2xl font-bold text-gray-800 mb-4 text-center">ğŸ” æ•™å¸«é©—è­‰</h3>
     <p class="text-gray-600 mb-6 text-center">è«‹è¼¸å…¥å¯†ç¢¼ä»¥æŸ¥çœ‹é¡Œåº«</p><input type="password" id="password-input" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none text-center text-lg" placeholder="è«‹è¼¸å…¥å¯†ç¢¼" maxlength="6">
     <div class="flex justify-center space-x-4 mt-6"><button id="password-confirm" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200"> ç¢ºèª </button> <button id="password-cancel" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200"> å–æ¶ˆ </button>
     </div>
     <div id="password-error" class="hidden text-red-500 text-center mt-4">
      å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹é‡æ–°è¼¸å…¥
     </div>
    </div>
   </div><!-- é¡Œåº«é¡¯ç¤ºé é¢ -->
   <div id="question-bank" class="hidden">
    <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
     <div class="flex justify-between items-center mb-4">
      <div class="flex items-center gap-4"><button id="bank-home-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200"> ğŸ  å›é¦–é  </button>
       <h2 id="bank-category-title" class="text-2xl font-bold text-purple-800"></h2>
      </div><button id="close-bank-btn" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200"> é—œé–‰é¡Œåº« </button>
     </div>
     <div id="word-list" class="space-y-3 max-h-96 overflow-y-auto"><!-- å–®å­—åˆ—è¡¨æœƒå‹•æ…‹ç”Ÿæˆ -->
     </div>
    </div>
   </div><!-- ä½œç­”ç´€éŒ„é é¢ -->
   <div id="records-page" class="hidden">
    <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
     <div class="flex justify-between items-center mb-6">
      <h2 class="text-2xl font-bold text-green-800">ğŸ“Š å­¸ç”Ÿä½œç­”ç´€éŒ„</h2><button id="close-records-btn" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200"> é—œé–‰ç´€éŒ„ </button>
     </div><!-- çµ±è¨ˆæ‘˜è¦ -->
     <div id="records-summary" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"><!-- çµ±è¨ˆå¡ç‰‡æœƒå‹•æ…‹ç”Ÿæˆ -->
     </div><!-- è©³ç´°ç´€éŒ„ -->
     <div class="mb-4">
      <h3 class="text-lg font-semibold text-gray-700 mb-3">è©³ç´°ä½œç­”ç´€éŒ„</h3>
      <div id="records-list" class="space-y-3 max-h-96 overflow-y-auto"><!-- ç´€éŒ„åˆ—è¡¨æœƒå‹•æ…‹ç”Ÿæˆ -->
      </div>
     </div>
    </div>
   </div><!-- æ¸…é™¤ç¢ºèªæ¨¡æ…‹æ¡† -->
   <div id="clear-confirm-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4">
     <h3 class="text-2xl font-bold text-gray-800 mb-4 text-center">âš ï¸ ç¢ºèªæ¸…é™¤</h3>
     <p class="text-gray-600 mb-6 text-center">ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰ä½œç­”ç´€éŒ„å—ï¼Ÿ<br>
      æ­¤æ“ä½œç„¡æ³•å¾©åŸï¼</p>
     <div class="flex justify-center space-x-4"><button id="confirm-clear" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200"> ç¢ºèªæ¸…é™¤ </button> <button id="cancel-clear" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-200"> å–æ¶ˆ </button>
     </div>
    </div>
   </div><!-- çµæœé é¢ -->
   <div id="resultpage" class="hidden text-center">
    <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
     <h2 class="text-3xl font-bold text-indigo-800 mb-4">ğŸ‰ éŠæˆ²å®Œæˆï¼</h2>
     <div id="final-category" class="text-xl text-gray-700 mb-4"></div>
     <div id="final-score" class="text-2xl font-bold text-green-600 mb-6"></div>
     <div class="flex justify-center space-x-4"><button id="restart-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-colors duration-200"> é‡æ–°ä½œç­” </button> <button id="view-records-btn" class="bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-colors duration-200"> ğŸ“Š æŸ¥çœ‹ç´€éŒ„ </button> <button id="home-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-colors duration-200"> å›åˆ°é¦–é  </button>
     </div>
    </div>
   </div>
  </div>
  <script>
        // å–®å­—è³‡æ–™
        const vocabulary = {
            'ç¯€æ…¶': [
                { word: 'firecrackers', meaning: 'é­ç‚® (è¤‡æ•¸)' },
                { word: 'lion dance', meaning: 'èˆç…' },
                { word: 'lucky money', meaning: 'å£“æ­²éŒ¢' },
                { word: 'rice cake', meaning: 'å¹´ç³•' },
                { word: 'spring couplet', meaning: 'æ˜¥è¯' },
                { word: 'tangerines', meaning: 'æ©˜å­ (è¤‡æ•¸)' }
            ],
            'æ„Ÿè¦º': [
                { word: 'angry', meaning: 'ç”Ÿæ°£çš„' },
                { word: 'happy', meaning: 'å¿«æ¨‚çš„' },
                { word: 'hungry', meaning: 'é£¢é¤“çš„' },
                { word: 'sad', meaning: 'é›£éçš„' },
                { word: 'thirsty', meaning: 'å£æ¸´çš„' }
            ],
            'ç©å…·': [
                { word: 'ball', meaning: 'çƒ' },
                { word: 'car', meaning: 'è»Š' },
                { word: 'doll', meaning: 'æ´‹å¨ƒå¨ƒ' },
                { word: 'kite', meaning: 'é¢¨ç®' },
                { word: 'robot', meaning: 'æ©Ÿå™¨äºº' },
                { word: 'yo-yo', meaning: 'æºœæºœçƒ' }
            ],
            'é¡è‰²': [
                { word: 'blue', meaning: 'è—è‰²' },
                { word: 'green', meaning: 'ç¶ è‰²' },
                { word: 'pink', meaning: 'ç²‰ç´…è‰²' },
                { word: 'purple', meaning: 'ç´«è‰²' },
                { word: 'red', meaning: 'ç´…è‰²' },
                { word: 'yellow', meaning: 'é»ƒè‰²' }
            ],
            'å‹•ç‰©': [
                { word: 'bird', meaning: 'é³¥' },
                { word: 'bear', meaning: 'ç†Š' },
                { word: 'cat', meaning: 'è²“' },
                { word: 'dog', meaning: 'ç‹—' },
                { word: 'frog', meaning: 'é’è›™' },
                { word: 'lion', meaning: 'ç…å­' },
                { word: 'monkey', meaning: 'çŒ´å­' },
                { word: 'ox', meaning: 'ç‰›' },
                { word: 'rabbit', meaning: 'å…”å­' },
                { word: 'tiger', meaning: 'è€è™' },
                { word: 'zebra', meaning: 'æ–‘é¦¬' }
            ],
            'å‹•ä½œ': [
                { word: 'cook', meaning: 'ä¸‹å»š' },
                { word: 'dance', meaning: 'è·³èˆ' },
                { word: 'draw', meaning: 'ç•«åœ–' },
                { word: 'eat', meaning: 'åƒæ±è¥¿' },
                { word: 'fly a kite', meaning: 'æ”¾é¢¨ç®' },
                { word: 'read', meaning: 'é–±è®€' },
                { word: 'run', meaning: 'è·‘æ­¥' },
                { word: 'ride a bike', meaning: 'é¨è…³è¸è»Š' },
                { word: 'sleep', meaning: 'ç¡è¦º' },
                { word: 'sing', meaning: 'å”±æ­Œ' },
                { word: 'swim', meaning: 'æ¸¸æ³³' },
                { word: 'write', meaning: 'å¯«å­—' }
            ],
            'è¦ªäºº': [
                { word: 'grandfather (grandpa)', meaning: 'çˆºçˆºï¼›å¤–å…¬' },
                { word: 'grandmother (grandma)', meaning: 'å¥¶å¥¶ï¼›å¤–å©†' },
                { word: 'father (dad)', meaning: 'çˆ¸çˆ¸' },
                { word: 'mother (mom)', meaning: 'åª½åª½' },
                { word: 'brother', meaning: 'å“¥å“¥ï¼›å¼Ÿå¼Ÿ' },
                { word: 'sister', meaning: 'å§å§ï¼›å¦¹å¦¹' }
            ],
            'è·æ¥­': [
                { word: 'cook', meaning: 'å»šå¸«' },
                { word: 'doctor', meaning: 'é†«å¸«' },
                { word: 'nurse', meaning: 'è­·ç†å¸«' },
                { word: 'student', meaning: 'å­¸ç”Ÿ' },
                { word: 'teacher', meaning: 'æ•™å¸«' }
            ],
            'å¤©æ°£': [
                { word: 'cloudy', meaning: 'é™°å¤©çš„' },
                { word: 'cold', meaning: 'å†·çš„' },
                { word: 'hot', meaning: 'ç†±çš„' },
                { word: 'rainy', meaning: 'ä¸‹é›¨çš„' },
                { word: 'sunny', meaning: 'æ™´æœ—çš„' },
                { word: 'windy', meaning: 'é¢³é¢¨çš„' }
            ],
            'æ–‡å…·': [
                { word: 'book', meaning: 'æ›¸' },
                { word: 'eraser', meaning: 'æ©¡çš®æ“¦' },
                { word: 'marker', meaning: 'é¦¬å…‹ç­†ï¼›å½©è‰²ç­†' },
                { word: 'pen', meaning: 'åŸå­ç­†' },
                { word: 'pencil', meaning: 'é‰›ç­†' },
                { word: 'ruler', meaning: 'å°º' }
            ],
            'ç‰©å“': [
                { word: 'box', meaning: 'ç›’å­' },
                { word: 'chair', meaning: 'æ¤…å­' },
                { word: 'desk', meaning: 'æ›¸æ¡Œ' }
            ],
            'ä»‹ç³»è©': [
                { word: 'in', meaning: 'åœ¨...è£¡é¢' },
                { word: 'on', meaning: 'åœ¨...ä¸Šé¢' },
                { word: 'under', meaning: 'åœ¨...ä¸‹é¢' }
            ],
            'æ‰€æœ‰æ ¼': [
                { word: 'my', meaning: 'æˆ‘çš„' },
                { word: 'your', meaning: 'ä½ çš„ï¼›ä½ å€‘çš„' },
                { word: 'his', meaning: 'ä»–çš„' },
                { word: 'her', meaning: 'å¥¹çš„' },
                { word: 'our', meaning: 'æˆ‘å€‘çš„' },
                { word: 'their', meaning: 'ä»–å€‘çš„' }
            ],
            'æ•¸å­—': [
                { word: 'one', meaning: 'ä¸€' },
                { word: 'two', meaning: 'äºŒ' },
                { word: 'three', meaning: 'ä¸‰' },
                { word: 'four', meaning: 'å››' },
                { word: 'five', meaning: 'äº”' },
                { word: 'six', meaning: 'å…­' },
                { word: 'seven', meaning: 'ä¸ƒ' },
                { word: 'eight', meaning: 'å…«' },
                { word: 'nine', meaning: 'ä¹' },
                { word: 'ten', meaning: 'å' },
                { word: 'eleven', meaning: 'åä¸€' },
                { word: 'twelve', meaning: 'åäºŒ' },
                { word: 'thirteen', meaning: 'åä¸‰' },
                { word: 'fourteen', meaning: 'åå››' },
                { word: 'fifteen', meaning: 'åäº”' },
                { word: 'sixteen', meaning: 'åå…­' },
                { word: 'seventeen', meaning: 'åä¸ƒ' },
                { word: 'eighteen', meaning: 'åå…«' },
                { word: 'nineteen', meaning: 'åä¹' },
                { word: 'twenty', meaning: 'äºŒå' },
                { word: 'twenty-five', meaning: 'äºŒåäº”' },
                { word: 'thirty', meaning: 'ä¸‰å' },
                { word: 'forty', meaning: 'å››å' },
                { word: 'fifty', meaning: 'äº”å' },
                { word: 'sixty', meaning: 'å…­å' },
                { word: 'seventy', meaning: 'ä¸ƒå' },
                { word: 'eighty', meaning: 'å…«å' },
                { word: 'ninety', meaning: 'ä¹å' },
                { word: 'one hundred', meaning: 'ä¸€ç™¾' }
            ],
            'æˆ¿å±‹': [
                { word: 'bathroom', meaning: 'æµ´å®¤ï¼›æ´—æ‰‹é–“' },
                { word: 'bedroom', meaning: 'è‡¥å®¤' },
                { word: 'dining room', meaning: 'é£¯å»³' },
                { word: 'kitchen', meaning: 'å»šæˆ¿' },
                { word: 'living room', meaning: 'å®¢å»³' }
            ],
            'ç¯€æ…¶2': [
                { word: 'Christmas tree', meaning: 'è–èª•æ¨¹' },
                { word: 'Santa Claus', meaning: 'è–èª•è€äºº' },
                { word: 'snowman', meaning: 'é›ªäºº' },
                { word: 'star', meaning: 'æ˜Ÿæ˜Ÿ' },
                { word: 'stocking', meaning: 'é•·ç­’è¥ª' },
                { word: 'card', meaning: 'å¡ç‰‡' },
                { word: 'flower', meaning: 'èŠ±æœµ' },
                { word: 'gift', meaning: 'ç¦®ç‰©' },
                { word: 'hug', meaning: 'æ“æŠ±' },
                { word: 'kiss', meaning: 'è¦ªå»' },
                { word: 'ghost', meaning: 'é¬¼é­‚' },
                { word: 'jack-o\'-lantern', meaning: 'å—ç“œç‡ˆ' },
                { word: 'mummy', meaning: 'æœ¨ä¹ƒä¼Š' },
                { word: 'vampire', meaning: 'å¸è¡€é¬¼' },
                { word: 'witch', meaning: 'å¥³å·«' },
                { word: 'sachet', meaning: 'é¦™åŒ…' },
                { word: 'dragon boat race', meaning: 'åˆ’é¾èˆŸæ¯”è³½' },
                { word: 'rice dumpling', meaning: 'ç²½å­' },
                { word: 'stand an egg', meaning: 'ç«‹è›‹' },
                { word: 'firecrackers', meaning: 'é­ç‚®ï¼ˆè¤‡æ•¸ï¼‰' },
                { word: 'lion dance', meaning: 'èˆç…' },
                { word: 'lucky money', meaning: 'å£“æ­²éŒ¢' },
                { word: 'rice cake', meaning: 'å¹´ç³•' },
                { word: 'spring couplet', meaning: 'æ˜¥è¯' },
                { word: 'tangerine', meaning: 'æ©˜å­' }
            ],
            'é£Ÿç‰©èˆ‡é£²æ–™': [
                { word: 'apple', meaning: 'è˜‹æœ' },
                { word: 'banana', meaning: 'é¦™è•‰' },
                { word: 'bubble tea', meaning: 'çç å¥¶èŒ¶' },
                { word: 'coffee', meaning: 'å’–å•¡' },
                { word: 'cola', meaning: 'å¯æ¨‚' },
                { word: 'grape', meaning: 'è‘¡è„' },
                { word: 'guava', meaning: 'èŠ­æ¨‚' },
                { word: 'hamburger', meaning: 'æ¼¢å ¡' },
                { word: 'hot dog', meaning: 'ç†±ç‹—' },
                { word: 'hot chocolate', meaning: 'ç†±å·§å…‹åŠ›' },
                { word: 'ice cream', meaning: 'å†°æ·‡æ·‹' },
                { word: 'juice', meaning: 'æœæ±' },
                { word: 'lemonade', meaning: 'æª¸æª¬æ°´' },
                { word: 'milk', meaning: 'ç‰›å¥¶' },
                { word: 'orange', meaning: 'æŸ³æ©™' },
                { word: 'papaya', meaning: 'æœ¨ç“œ' },
                { word: 'pineapple', meaning: 'é³³æ¢¨' },
                { word: 'soy milk', meaning: 'è±†æ¼¿' },
                { word: 'tea', meaning: 'èŒ¶' },
                { word: 'water', meaning: 'æ°´' }
            ],
            'æ˜ŸæœŸ': [
                { word: 'Sunday', meaning: 'æ˜ŸæœŸæ—¥' },
                { word: 'Monday', meaning: 'æ˜ŸæœŸä¸€' },
                { word: 'Tuesday', meaning: 'æ˜ŸæœŸäºŒ' },
                { word: 'Wednesday', meaning: 'æ˜ŸæœŸä¸‰' },
                { word: 'Thursday', meaning: 'æ˜ŸæœŸå››' },
                { word: 'Friday', meaning: 'æ˜ŸæœŸäº”' },
                { word: 'Saturday', meaning: 'æ˜ŸæœŸå…­' }
            ],
            'ç§‘ç›®': [
                { word: 'art', meaning: 'è—è¡“ï¼›ç¾è¡“' },
                { word: 'Chinese', meaning: 'åœ‹èªï¼›ä¸­æ–‡' },
                { word: 'English', meaning: 'è‹±èªï¼›è‹±æ–‡' },
                { word: 'math', meaning: 'æ•¸å­¸' },
                { word: 'music', meaning: 'éŸ³æ¨‚' },
                { word: 'PE', meaning: 'é«”è‚²' },
                { word: 'science', meaning: 'è‡ªç„¶ç§‘å­¸ï¼›ç§‘å­¸' },
                { word: 'social studies', meaning: 'ç¤¾æœƒ' }
            ]
        };

        // éŠæˆ²ç‹€æ…‹
        let currentCategory = '';
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let totalQuestions = 20;

        // é¡åˆ¥åœ–ç¤º
        const categoryIcons = {
            'ç¯€æ…¶': 'ğŸŠ', 'æ„Ÿè¦º': 'ğŸ˜Š', 'ç©å…·': 'ğŸ§¸', 'é¡è‰²': 'ğŸ¨', 
            'å‹•ç‰©': 'ğŸ¾', 'å‹•ä½œ': 'ğŸƒ', 'è¦ªäºº': 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', 'è·æ¥­': 'ğŸ‘©â€ğŸ’¼', 
            'å¤©æ°£': 'ğŸŒ¤ï¸', 'æ–‡å…·': 'âœï¸', 'ç‰©å“': 'ğŸ“¦', 'ä»‹ç³»è©': 'ğŸ“', 'æ‰€æœ‰æ ¼': 'ğŸ‘¤',
            'æ•¸å­—': 'ğŸ”¢', 'æˆ¿å±‹': 'ğŸ ', 'ç¯€æ…¶2': 'ğŸ‰', 'é£Ÿç‰©èˆ‡é£²æ–™': 'ğŸ', 
            'æ˜ŸæœŸ': 'ğŸ“…', 'ç§‘ç›®': 'ğŸ“š'
        };

        // åˆå§‹åŒ–éŠæˆ²
        function initGame() {
            generateCategoryCards();
            setupEventListeners();
        }

        // ç”Ÿæˆé¡åˆ¥å¡ç‰‡
        function generateCategoryCards() {
            const container = document.querySelector('#homepage .grid');
            container.innerHTML = '';

            // ç²å–ç·´ç¿’æ¬¡æ•¸çµ±è¨ˆå’Œæœ€é«˜åˆ†
            const practiceStats = getCategoryPracticeStats();
            const highestScores = getCategoryHighestScores();

            Object.keys(vocabulary).forEach(category => {
                const practiceCount = practiceStats[category] || 0;
                const highestScore = highestScores[category] || 0;
                const hasPracticed = practiceCount > 0;
                
                const card = document.createElement('div');
                card.className = `category-card ${hasPracticed ? 'bg-green-50 border-green-200' : 'bg-white'} rounded-lg shadow-lg p-6 cursor-pointer border-2 ${hasPracticed ? 'hover:border-green-400' : 'border-transparent hover:border-indigo-300'} relative`;
                card.innerHTML = `
                    ${practiceCount > 0 ? `<div class="absolute -top-2 -right-2 bg-orange-500 text-white text-xs font-bold rounded-full w-8 h-8 flex items-center justify-center shadow-lg">${practiceCount}</div>` : ''}
                    <div class="text-4xl mb-3">${categoryIcons[category]}</div>
                    <h3 class="text-xl font-bold ${hasPracticed ? 'text-green-800' : 'text-gray-800'} mb-2">${category}</h3>
                    <p class="text-gray-600 text-sm">${vocabulary[category].length} å€‹å–®å­—</p>
                    ${practiceCount > 0 ? `<p class="text-orange-600 text-xs mt-1 font-medium">å·²ç·´ç¿’ ${practiceCount} æ¬¡</p>` : ''}
                    ${highestScore > 0 ? `<p class="text-green-700 text-xs mt-1 font-bold">ğŸ† æœ€é«˜åˆ†: ${Math.round(highestScore * 20 / 100)}/20</p>` : ''}
                `;
                card.addEventListener('click', () => startGame(category));
                container.appendChild(card);
            });
        }

        // é–‹å§‹éŠæˆ²
        function startGame(category) {
            currentCategory = category;
            currentQuestionIndex = 0;
            correctAnswers = 0;
            
            // é‡ç½®çµæœé é¢çš„å„²å­˜æ¨™è¨˜
            document.getElementById('resultpage').removeAttribute('data-saved');
            
            // ç”Ÿæˆ20é¡Œï¼ˆé‡è¤‡ä½¿ç”¨å–®å­—ç›´åˆ°é”åˆ°20é¡Œï¼‰
            currentQuestions = generateQuestions(category, totalQuestions);
            
            document.getElementById('homepage').classList.add('hidden');
            document.getElementById('gamepage').classList.remove('hidden');
            document.getElementById('category-title').textContent = `${categoryIcons[category]} ${category}`;
            
            showQuestion();
        }

        // ç”Ÿæˆé¡Œç›®
        function generateQuestions(category, count) {
            const words = vocabulary[category];
            const questions = [];
            
            for (let i = 0; i < count; i++) {
                // æ¯æ¬¡éƒ½é‡æ–°éš¨æ©Ÿé¸æ“‡å–®å­—ï¼Œç¢ºä¿å®Œå…¨éš¨æ©Ÿ
                const randomWord = words[Math.floor(Math.random() * words.length)];
                const wrongOptions = getRandomWrongOptions(category, randomWord.meaning);
                const options = [randomWord.meaning, ...wrongOptions].sort(() => Math.random() - 0.5);
                
                questions.push({
                    word: randomWord.word,
                    correct: randomWord.meaning,
                    options: options
                });
            }
            
            // æœ€å¾Œå†å°‡æ•´å€‹é¡Œç›®é™£åˆ—æ‰“äº‚ä¸€æ¬¡ï¼Œç¢ºä¿å®Œå…¨éš¨æ©Ÿ
            return questions.sort(() => Math.random() - 0.5);
        }

        // ç²å–éŒ¯èª¤é¸é …ï¼ˆå¾åŒä¸€é¡åˆ¥ä¸­é¸å–ï¼‰
        function getRandomWrongOptions(category, correctAnswer) {
            const categoryWords = vocabulary[category];
            const wrongMeanings = categoryWords
                .filter(word => word.meaning !== correctAnswer)
                .map(word => word.meaning);
            
            // å¦‚æœåŒé¡åˆ¥çš„é¸é …ä¸è¶³3å€‹ï¼Œå¾å…¶ä»–é¡åˆ¥è£œå……
            if (wrongMeanings.length < 3) {
                const allOtherMeanings = [];
                Object.entries(vocabulary).forEach(([cat, words]) => {
                    if (cat !== category) {
                        words.forEach(word => {
                            if (word.meaning !== correctAnswer) {
                                allOtherMeanings.push(word.meaning);
                            }
                        });
                    }
                });
                
                const shuffledOthers = allOtherMeanings.sort(() => Math.random() - 0.5);
                const needed = 3 - wrongMeanings.length;
                wrongMeanings.push(...shuffledOthers.slice(0, needed));
            }
            
            const shuffled = wrongMeanings.sort(() => Math.random() - 0.5);
            return shuffled.slice(0, 3);
        }

        // ç™¼éŸ³åŠŸèƒ½
        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                utterance.pitch = 1;
                speechSynthesis.speak(utterance);
            }
        }

        // é¡¯ç¤ºé¡Œç›®
        function showQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            
            document.getElementById('question-word').textContent = question.word;
            document.getElementById('question-counter').textContent = `ç¬¬ ${currentQuestionIndex + 1} é¡Œ / å…± ${totalQuestions} é¡Œ`;
            document.getElementById('accuracy-rate').textContent = `ç­”å°ç‡: ${Math.round((correctAnswers / Math.max(1, currentQuestionIndex)) * 100)}%`;
            
            // è¨­ç½®é¡Œç›®ç™¼éŸ³æŒ‰éˆ•
            const questionPronunciationBtn = document.getElementById('question-pronunciation');
            questionPronunciationBtn.onclick = () => speakText(question.word);
            
            // æ›´æ–°é€²åº¦æ¢
            const progress = ((currentQuestionIndex) / totalQuestions) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            
            // ç”Ÿæˆé¸é …
            const container = document.getElementById('options-container');
            container.innerHTML = '';
            
            question.options.forEach(option => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'relative';
                
                const button = document.createElement('button');
                button.className = 'bg-gray-100 hover:bg-indigo-100 border-2 border-gray-300 hover:border-indigo-400 rounded-lg p-4 text-left transition-all duration-200 font-medium w-full pr-12';
                button.textContent = option;
                button.addEventListener('click', () => selectAnswer(option, question.correct));
                
                const pronunciationBtn = document.createElement('button');
                pronunciationBtn.className = 'absolute right-2 top-1/2 transform -translate-y-1/2 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-1 text-sm transition-colors duration-200';
                pronunciationBtn.innerHTML = 'ğŸ”Š';
                pronunciationBtn.onclick = (e) => {
                    e.stopPropagation();
                    // æ‰¾åˆ°å°æ‡‰çš„è‹±æ–‡å–®å­—ä¾†ç™¼éŸ³ï¼ˆç¢ºä¿ç™¼éŸ³çš„æ˜¯è‹±æ–‡ï¼‰
                    const englishWord = findEnglishWordByMeaning(option);
                    if (englishWord) {
                        speakText(englishWord);
                    }
                };
                
                optionDiv.appendChild(button);
                optionDiv.appendChild(pronunciationBtn);
                container.appendChild(optionDiv);
            });
            
            // éš±è—çµæœå’Œä¸‹ä¸€é¡ŒæŒ‰éˆ•
            document.getElementById('result-message').classList.add('hidden');
            document.getElementById('next-btn').classList.add('hidden');
        }

        // æ ¹æ“šä¸­æ–‡æ„æ€æ‰¾åˆ°å°æ‡‰çš„è‹±æ–‡å–®å­—
        function findEnglishWordByMeaning(chineseMeaning) {
            for (const category in vocabulary) {
                for (const wordObj of vocabulary[category]) {
                    if (wordObj.meaning === chineseMeaning) {
                        return wordObj.word;
                    }
                }
            }
            return null; // å¦‚æœæ‰¾ä¸åˆ°å°±è¿”å›nullï¼Œé¿å…ç™¼éŸ³ä¸­æ–‡
        }

        // é¸æ“‡ç­”æ¡ˆ
        function selectAnswer(selected, correct) {
            const isCorrect = selected === correct;
            if (isCorrect) correctAnswers++;
            
            // ç¦ç”¨æ‰€æœ‰é¸é …
            const options = document.querySelectorAll('#options-container button');
            options.forEach(option => {
                option.disabled = true;
                if (option.textContent === correct) {
                    option.className = 'bg-green-100 border-2 border-green-400 rounded-lg p-4 text-left font-medium text-green-800';
                } else if (option.textContent === selected && !isCorrect) {
                    option.className = 'bg-red-100 border-2 border-red-400 rounded-lg p-4 text-left font-medium text-red-800';
                } else {
                    option.className = 'bg-gray-100 border-2 border-gray-300 rounded-lg p-4 text-left font-medium opacity-50';
                }
            });
            
            // é¡¯ç¤ºçµæœ
            const resultDiv = document.getElementById('result-message');
            const resultText = document.getElementById('result-text');
            const correctAnswerDiv = document.getElementById('correct-answer');
            
            if (isCorrect) {
                resultText.textContent = 'ğŸ‰ ç­”å°äº†ï¼';
                resultText.className = 'text-xl font-semibold mb-4 text-green-600 bounce';
                correctAnswerDiv.textContent = '';
            } else {
                resultText.textContent = 'âŒ ç­”éŒ¯äº†';
                resultText.className = 'text-xl font-semibold mb-4 text-red-600';
                correctAnswerDiv.textContent = `æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${correct}`;
            }
            
            resultDiv.classList.remove('hidden');
            document.getElementById('next-btn').classList.remove('hidden');
            
            // æ›´æ–°çµ±è¨ˆ
            document.getElementById('accuracy-rate').textContent = `ç­”å°ç‡: ${Math.round((correctAnswers / (currentQuestionIndex + 1)) * 100)}%`;
        }

        // ä¸‹ä¸€é¡Œ
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= totalQuestions) {
                showResults();
            } else {
                showQuestion();
            }
        }

        // é¡¯ç¤ºçµæœ
        function showResults() {
            document.getElementById('gamepage').classList.add('hidden');
            document.getElementById('resultpage').classList.remove('hidden');
            
            const accuracy = Math.round((correctAnswers / totalQuestions) * 100);
            document.getElementById('final-category').textContent = `å·²å®Œæˆã€Œ${currentCategory}ã€é¡åˆ¥`;
            document.getElementById('final-score').textContent = `ç­”å° ${correctAnswers} / ${totalQuestions} é¡Œ (${accuracy}%)`;
            
            // å„²å­˜ä½œç­”ç´€éŒ„ï¼ˆåªåœ¨ç¬¬ä¸€æ¬¡é¡¯ç¤ºçµæœæ™‚å„²å­˜ï¼‰
            if (!document.getElementById('resultpage').hasAttribute('data-saved')) {
                saveGameRecord(currentCategory, correctAnswers, totalQuestions, accuracy);
                document.getElementById('resultpage').setAttribute('data-saved', 'true');
            }
        }

        // å„²å­˜éŠæˆ²ç´€éŒ„
        function saveGameRecord(category, correct, total, accuracy) {
            const record = {
                id: Date.now(),
                category: category,
                correctAnswers: correct,
                totalQuestions: total,
                accuracy: accuracy,
                date: new Date().toLocaleString('zh-TW'),
                timestamp: Date.now()
            };
            
            let records = JSON.parse(localStorage.getItem('gameRecords') || '[]');
            records.push(record);
            localStorage.setItem('gameRecords', JSON.stringify(records));
        }

        // ç²å–æ‰€æœ‰ç´€éŒ„
        function getAllRecords() {
            return JSON.parse(localStorage.getItem('gameRecords') || '[]');
        }

        // ç²å–å„é¡åˆ¥ç·´ç¿’æ¬¡æ•¸çµ±è¨ˆ
        function getCategoryPracticeStats() {
            const records = getAllRecords();
            const stats = {};
            
            records.forEach(record => {
                if (stats[record.category]) {
                    stats[record.category]++;
                } else {
                    stats[record.category] = 1;
                }
            });
            
            return stats;
        }

        // ç²å–å„é¡åˆ¥æœ€é«˜åˆ†çµ±è¨ˆ
        function getCategoryHighestScores() {
            const records = getAllRecords();
            const scores = {};
            
            records.forEach(record => {
                if (!scores[record.category] || record.accuracy > scores[record.category]) {
                    scores[record.category] = record.accuracy;
                }
            });
            
            return scores;
        }

        // æ¸…é™¤æ‰€æœ‰ç´€éŒ„
        function clearAllRecords() {
            localStorage.removeItem('gameRecords');
        }

        // é¡¯ç¤ºä½œç­”ç´€éŒ„
        function showRecords() {
            const records = getAllRecords();
            
            // éš±è—å…¶ä»–é é¢ï¼Œé¡¯ç¤ºç´€éŒ„é é¢
            document.getElementById('homepage').classList.add('hidden');
            document.getElementById('resultpage').classList.add('hidden');
            document.getElementById('records-page').classList.remove('hidden');
            
            // ç”Ÿæˆçµ±è¨ˆæ‘˜è¦
            generateRecordsSummary(records);
            
            // ç”Ÿæˆè©³ç´°ç´€éŒ„åˆ—è¡¨
            generateRecordsList(records);
        }

        // ç”Ÿæˆçµ±è¨ˆæ‘˜è¦
        function generateRecordsSummary(records) {
            const summaryContainer = document.getElementById('records-summary');
            summaryContainer.innerHTML = '';
            
            if (records.length === 0) {
                summaryContainer.innerHTML = '<div class="col-span-3 text-center text-gray-500 py-8">å°šç„¡ä½œç­”ç´€éŒ„</div>';
                return;
            }
            
            // è¨ˆç®—çµ±è¨ˆæ•¸æ“š
            const totalGames = records.length;
            const averageAccuracy = Math.round(records.reduce((sum, record) => sum + record.accuracy, 0) / totalGames);
            const categoryStats = {};
            
            records.forEach(record => {
                if (!categoryStats[record.category]) {
                    categoryStats[record.category] = { count: 0, totalAccuracy: 0 };
                }
                categoryStats[record.category].count++;
                categoryStats[record.category].totalAccuracy += record.accuracy;
            });
            
            const mostPlayedCategory = Object.keys(categoryStats).reduce((a, b) => 
                categoryStats[a].count > categoryStats[b].count ? a : b, Object.keys(categoryStats)[0]);
            
            // ç”Ÿæˆçµ±è¨ˆå¡ç‰‡
            const summaryCards = [
                { title: 'ç¸½ä½œç­”æ¬¡æ•¸', value: totalGames, icon: 'ğŸ¯', color: 'bg-blue-100 text-blue-800' },
                { title: 'å¹³å‡ç­”å°ç‡', value: `${averageAccuracy}%`, icon: 'ğŸ“Š', color: 'bg-green-100 text-green-800' },
                { title: 'æœ€å¸¸ç·´ç¿’', value: mostPlayedCategory, icon: 'â­', color: 'bg-purple-100 text-purple-800' }
            ];
            
            summaryCards.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = `${card.color} rounded-lg p-4 text-center`;
                cardElement.innerHTML = `
                    <div class="text-2xl mb-2">${card.icon}</div>
                    <div class="text-sm font-medium mb-1">${card.title}</div>
                    <div class="text-xl font-bold">${card.value}</div>
                `;
                summaryContainer.appendChild(cardElement);
            });
        }

        // ç”Ÿæˆè©³ç´°ç´€éŒ„åˆ—è¡¨
        function generateRecordsList(records) {
            const listContainer = document.getElementById('records-list');
            listContainer.innerHTML = '';
            
            if (records.length === 0) {
                listContainer.innerHTML = '<div class="text-center text-gray-500 py-8">å°šç„¡ä½œç­”ç´€éŒ„</div>';
                return;
            }
            
            // æŒ‰æ™‚é–“å€’åºæ’åˆ—
            const sortedRecords = records.sort((a, b) => b.timestamp - a.timestamp);
            
            sortedRecords.forEach((record, index) => {
                const recordElement = document.createElement('div');
                recordElement.className = 'bg-gray-50 rounded-lg p-4 border border-gray-200';
                
                const accuracyColor = record.accuracy >= 80 ? 'text-green-600' : 
                                    record.accuracy >= 60 ? 'text-yellow-600' : 'text-red-600';
                
                recordElement.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-2">
                                <span class="text-lg font-bold text-gray-700">#${sortedRecords.length - index}</span>
                                <span class="text-lg font-semibold text-indigo-700">${categoryIcons[record.category]} ${record.category}</span>
                                <span class="text-sm text-gray-500">${record.date}</span>
                            </div>
                            <div class="flex items-center gap-4 text-sm">
                                <span class="text-gray-600">ç­”å° ${record.correctAnswers} / ${record.totalQuestions} é¡Œ</span>
                                <span class="font-semibold ${accuracyColor}">ç­”å°ç‡ ${record.accuracy}%</span>
                            </div>
                        </div>
                    </div>
                `;
                
                listContainer.appendChild(recordElement);
            });
        }

        // é¡¯ç¤ºé¡Œåº«
        function showQuestionBank() {
            const words = vocabulary[currentCategory];
            document.getElementById('bank-category-title').textContent = `${categoryIcons[currentCategory]} ${currentCategory} é¡Œåº«`;
            
            const wordList = document.getElementById('word-list');
            wordList.innerHTML = '';
            
            words.forEach((wordObj, index) => {
                const wordItem = document.createElement('div');
                wordItem.className = 'bg-gray-50 rounded-lg p-4 flex items-center justify-between border border-gray-200';
                
                const wordContent = document.createElement('div');
                wordContent.className = 'flex-1';
                wordContent.innerHTML = `
                    <div class="flex items-center gap-3 mb-2">
                        <span class="text-lg font-bold text-purple-700">${index + 1}.</span>
                        <span class="text-xl font-semibold text-gray-800">${wordObj.word}</span>
                        <button class="word-pronunciation bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2 transition-colors duration-200" data-word="${wordObj.word}">
                            ğŸ”Š
                        </button>
                    </div>
                    <div class="text-gray-600 ml-8">${wordObj.meaning}</div>
                `;
                
                wordItem.appendChild(wordContent);
                wordList.appendChild(wordItem);
            });
            
            // ç‚ºç™¼éŸ³æŒ‰éˆ•æ·»åŠ äº‹ä»¶ç›£è½å™¨
            document.querySelectorAll('.word-pronunciation').forEach(btn => {
                btn.addEventListener('click', () => {
                    const word = btn.getAttribute('data-word');
                    speakText(word);
                });
            });
            
            document.getElementById('question-bank').classList.remove('hidden');
        }

        // é©—è­‰å¯†ç¢¼
        function verifyPassword() {
            const password = document.getElementById('password-input').value;
            const errorDiv = document.getElementById('password-error');
            
            if (password === '000000') {
                document.getElementById('password-modal').classList.add('hidden');
                document.getElementById('password-input').value = '';
                errorDiv.classList.add('hidden');
                showQuestionBank();
            } else {
                errorDiv.classList.remove('hidden');
                document.getElementById('password-input').value = '';
                document.getElementById('password-input').focus();
            }
        }

        // è¨­ç½®äº‹ä»¶ç›£è½å™¨
        function setupEventListeners() {
            document.getElementById('next-btn').addEventListener('click', nextQuestion);
            document.getElementById('restart-btn').addEventListener('click', () => startGame(currentCategory));
            document.getElementById('home-btn').addEventListener('click', () => {
                document.getElementById('resultpage').classList.add('hidden');
                document.getElementById('gamepage').classList.add('hidden');
                document.getElementById('records-page').classList.add('hidden');
                document.getElementById('homepage').classList.remove('hidden');
                // é‡æ–°ç”Ÿæˆé¡åˆ¥å¡ç‰‡ä»¥æ›´æ–°ç·´ç¿’æ¬¡æ•¸
                generateCategoryCards();
            });
            
            // é¡Œåº«ç›¸é—œäº‹ä»¶
            document.getElementById('show-bank-btn').addEventListener('click', () => {
                document.getElementById('password-modal').classList.remove('hidden');
                document.getElementById('password-input').focus();
            });
            
            document.getElementById('password-confirm').addEventListener('click', verifyPassword);
            document.getElementById('password-cancel').addEventListener('click', () => {
                document.getElementById('password-modal').classList.add('hidden');
                document.getElementById('password-input').value = '';
                document.getElementById('password-error').classList.add('hidden');
            });
            
            document.getElementById('close-bank-btn').addEventListener('click', () => {
                document.getElementById('question-bank').classList.add('hidden');
            });
            
            document.getElementById('bank-home-btn').addEventListener('click', () => {
                document.getElementById('question-bank').classList.add('hidden');
                document.getElementById('gamepage').classList.add('hidden');
                document.getElementById('homepage').classList.remove('hidden');
                // é‡æ–°ç”Ÿæˆé¡åˆ¥å¡ç‰‡ä»¥æ›´æ–°ç·´ç¿’æ¬¡æ•¸
                generateCategoryCards();
            });
            
            document.getElementById('game-home-btn').addEventListener('click', () => {
                document.getElementById('gamepage').classList.add('hidden');
                document.getElementById('homepage').classList.remove('hidden');
                // é‡æ–°ç”Ÿæˆé¡åˆ¥å¡ç‰‡ä»¥æ›´æ–°ç·´ç¿’æ¬¡æ•¸
                generateCategoryCards();
            });
            
            // ä½œç­”ç´€éŒ„ç›¸é—œäº‹ä»¶
            document.getElementById('show-records-btn').addEventListener('click', showRecords);
            document.getElementById('view-records-btn').addEventListener('click', showRecords);
            document.getElementById('close-records-btn').addEventListener('click', () => {
                document.getElementById('records-page').classList.add('hidden');
                document.getElementById('homepage').classList.remove('hidden');
                // é‡æ–°ç”Ÿæˆé¡åˆ¥å¡ç‰‡ä»¥æ›´æ–°ç·´ç¿’æ¬¡æ•¸
                generateCategoryCards();
            });
            
            // æ¸…é™¤ç´€éŒ„ç›¸é—œäº‹ä»¶
            document.getElementById('clear-records-btn').addEventListener('click', () => {
                document.getElementById('clear-confirm-modal').classList.remove('hidden');
            });
            
            document.getElementById('confirm-clear').addEventListener('click', () => {
                clearAllRecords();
                document.getElementById('clear-confirm-modal').classList.add('hidden');
                // é‡æ–°ç”Ÿæˆé¦–é é¡åˆ¥å¡ç‰‡ä»¥æ›´æ–°ç·´ç¿’æ¬¡æ•¸
                generateCategoryCards();
                // å¦‚æœæ­£åœ¨æŸ¥çœ‹ç´€éŒ„é é¢ï¼Œé‡æ–°è¼‰å…¥
                if (!document.getElementById('records-page').classList.contains('hidden')) {
                    showRecords();
                }
            });
            
            document.getElementById('cancel-clear').addEventListener('click', () => {
                document.getElementById('clear-confirm-modal').classList.add('hidden');
            });
            
            // å¯†ç¢¼è¼¸å…¥æ¡† Enter éµæ”¯æ´
            document.getElementById('password-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    verifyPassword();
                }
            });
            
            // ç©ºç™½éµæ”¯æ´
            document.addEventListener('keydown', (e) => {
                if (e.code === 'Space' && !document.getElementById('next-btn').classList.contains('hidden')) {
                    e.preventDefault();
                    nextQuestion();
                }
            });
        }

        // å•Ÿå‹•éŠæˆ²
        initGame();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'998a9c17f10f4a2a',t:'MTc2MjE1OTY3Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
